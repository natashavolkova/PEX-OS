"use strict";(()=>{var e={};e.id=3457,e.ids=[3457],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},835:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>w,patchFetch:()=>P,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>f});var n={};s.r(n),s.d(n,{DELETE:()=>g,GET:()=>l,PATCH:()=>p,POST:()=>d});var o=s(9303),r=s(8716),a=s(670),i=s(7070),u=s(650),c=s(2839);async function l(e){let{searchParams:t}=new URL(e.url),s=parseInt(t.get("limit")||"10"),n=t.get("type");console.log("[API] GET /api/analytics/focus",{limit:s,type:n});let o=[...c.wT];n&&(o=o.filter(e=>e.type===n));let r=(o=o.slice(0,s)).reduce((e,t)=>e+t.duration,0),a=o.length>0?r/o.length:0,u=o.length>0?o.reduce((e,t)=>e+t.productivityScore,0)/o.length:0,l={deep_work:o.filter(e=>"deep_work"===e.type).length,shallow_work:o.filter(e=>"shallow_work"===e.type).length,break:o.filter(e=>"break"===e.type).length,meeting:o.filter(e=>"meeting"===e.type).length};return i.NextResponse.json({success:!0,data:{sessions:o,statistics:{totalSessions:o.length,totalMinutes:r,avgDuration:Math.round(a),avgProductivity:Math.round(10*u)/10,byType:l,tasksCompleted:o.reduce((e,t)=>e+t.tasksCompleted.length,0)}}})}async function d(e){let t=await e.json();console.log("[API] POST /api/analytics/focus",t);let{type:s="deep_work",plannedDuration:n=50}=t,o={id:(0,u.Ox)(),startTime:Date.now(),endTime:0,duration:0,type:s,tasksCompleted:[],productivityScore:0,notes:""};return i.NextResponse.json({success:!0,data:{session:o,plannedDuration:n,startedAt:new Date().toISOString()},message:`Focus session started: ${s.replace("_"," ")}`})}async function p(e){let t=await e.json();console.log("[API] PATCH /api/analytics/focus",t);let{sessionId:s,tasksCompleted:n=[],notes:o="",interrupted:r=!1}=t;if(!s)return i.NextResponse.json({success:!1,error:"sessionId is required"},{status:400});let a=Date.now(),u=Math.min(10,5+2*n.length-(r?2:0));return i.NextResponse.json({success:!0,data:{session:{id:s,endTime:a,tasksCompleted:n,productivityScore:u,notes:o},endedAt:new Date(a).toISOString(),wasInterrupted:r},message:"Focus session completed"})}async function g(e){let{searchParams:t}=new URL(e.url),s=t.get("sessionId");return(console.log("[API] DELETE /api/analytics/focus",{sessionId:s}),s)?i.NextResponse.json({success:!0,message:"Focus session cancelled"}):i.NextResponse.json({success:!1,error:"sessionId is required"},{status:400})}let m=new o.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/analytics/focus/route",pathname:"/api/analytics/focus",filename:"route",bundlePath:"app/api/analytics/focus/route"},resolvedPagePath:"C:\\Users\\Luke\\Documents\\WORKSPACE\\FFWORKSPACEALL\\FFWORKSPACE\\AthenaPeX\\app\\api\\analytics\\focus\\route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:h,staticGenerationAsyncStorage:f,serverHooks:y}=m,w="/api/analytics/focus/route";function P(){return(0,a.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:f})}},650:(e,t,s)=>{function n(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function o(e){for(let t of[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/]){let s=e.match(t);if(s)return s[1]}return null}function r(e){return`https://img.youtube.com/vi/${e}/mqdefault.jpg`}function a(e,t){let s,n;let o=0===t?10*e:Math.round(e/t*10)/10;return o>=2?(s="execute",n="critical"):o>=1.5?(s="execute",n="high"):o>=1?(s="delegate",n="medium"):(s=o>=.5?"defer":"eliminate",n="low"),{roi:o,recommendation:s,priority:n}}s.d(t,{Ox:()=>n,PB:()=>a,TO:()=>r,y1:()=>o})}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[8948,5972,2839],()=>s(835));module.exports=n})();