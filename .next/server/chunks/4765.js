"use strict";exports.id=4765,exports.ids=[4765],exports.modules={4765:(e,t,s)=>{s.d(t,{C:()=>tl});var r=s(326),a=s(7577),i=s.n(a),l=s(9389),n=s(8263),o=s(1110),d=s(6828),c=s(6507),x=s(8378),m=s(1810),u=s(9163),h=s(8307),p=s(4061),g=s(9015),f=s(3426),b=s(717);let j={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"},v={top:"bottom-[-4px] left-1/2 -translate-x-1/2 border-b border-r",bottom:"top-[-4px] left-1/2 -translate-x-1/2 border-t border-l",left:"right-[-4px] top-1/2 -translate-y-1/2 border-t border-r",right:"left-[-4px] top-1/2 -translate-y-1/2 border-b border-l"},w={top:"animate-in fade-in slide-in-from-bottom-1",bottom:"animate-in fade-in slide-in-from-top-1",left:"animate-in fade-in slide-in-from-right-1",right:"animate-in fade-in slide-in-from-left-1"},y=({children:e,content:t,position:s="top",delay:i=150,disabled:l=!1})=>{let[n,o]=(0,a.useState)(!1),d=(0,a.useRef)(null);return(0,a.useEffect)(()=>()=>{d.current&&clearTimeout(d.current)},[]),(0,r.jsxs)("div",{className:"relative inline-flex",onMouseEnter:()=>{l||(d.current=setTimeout(()=>{o(!0)},i))},onMouseLeave:()=>{d.current&&clearTimeout(d.current),o(!1)},children:[e,n&&t&&(0,r.jsxs)("div",{className:`
            absolute z-[100] px-3 py-2 text-xs font-medium text-white 
            bg-[#1e2330] border border-white/10 rounded-lg shadow-2xl shadow-black/50
            whitespace-nowrap pointer-events-none duration-150
            ${j[s]}
            ${w[s]}
          `,children:[t,r.jsx("div",{className:`
              absolute w-2 h-2 bg-[#1e2330] border-white/10 rotate-45
              ${v[s]}
            `})]})]})},N=({children:e,label:t,shortcut:s,position:a="top"})=>r.jsx(y,{position:a,content:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:t}),s&&r.jsx("kbd",{className:"text-[10px] font-mono bg-white/10 px-1.5 py-0.5 rounded border border-white/10",children:s})]}),children:e});var D=s(551),C=s(5251);let k=()=>Math.random().toString(36).substring(2,10).toUpperCase()+"-"+Date.now().toString().substring(8),z=(e,t)=>{for(let s of e){if(s.id===t)return s;if("folder"===s.type&&s.children){let e=z(s.children,t);if(e)return e}}return null},S=(e,t)=>e.filter(e=>e.id!==t&&("folder"===e.type&&e.children&&(e.children=S(e.children,t)),!0)),Z=(e,t,s)=>t?e.map(e=>e.id===t&&"folder"===e.type?{...e,children:[s,...e.children||[]]}:"folder"===e.type&&e.children?{...e,children:Z(e.children,t,s)}:e):[s,...e],E=(e,t,s)=>e.map(e=>e.id===t?(e.type,{...e,...s,updatedAt:Date.now()}):"folder"===e.type&&e.children?{...e,children:E(e.children,t,s)}:e),I="MASTER-ADMIN-001",P=[{id:"f1",name:"Pastas Principais",type:"folder",emoji:"\uD83D\uDDC2️",children:[{id:"f1-1",name:"System Prompts",type:"folder",emoji:"⚙️",isSystem:!0,children:[{id:"p1",name:"Prompt Base ENTJ",type:"prompt",emoji:"\uD83E\uDD16",content:"Voc\xea \xe9 ATHENA, uma arquiteta ENTJ m\xe1xima...",tags:["system","core"],category:"System",date:new Date().toLocaleDateString("pt-BR")},{id:"p2",name:"Coding Assistant",type:"prompt",emoji:"\uD83D\uDC68‍\uD83D\uDCBB",content:"Expert React/TypeScript developer...",tags:["dev","code"],category:"Development",date:new Date().toLocaleDateString("pt-BR")}]},{id:"f1-2",name:"Marketing Campaigns",type:"folder",emoji:"\uD83D\uDE80",children:[]}]},{id:"f2",name:"Personal Space",type:"folder",emoji:"\uD83D\uDD12",children:[{id:"p3",name:"Operational Logs",type:"prompt",emoji:"\uD83D\uDEE1️",content:"Daily operations log template...",tags:["personal","logs"],category:"Ops",date:new Date().toLocaleDateString("pt-BR")}]}],$={name:"Natasha (ENTJ)",role:"master",keyId:I,avatar:null},L={defaultView:"sequential",theme:"dark",compactMode:!1,showTags:!0},T=[{id:1,title:"Acesso Concedido",description:'Ana Silva compartilhou "Design Assets".',time:"2 min",type:"share",read:!1},{id:2,title:"Sistema",description:"Backup autom\xe1tico realizado.",time:"3h",type:"system",read:!0}],M=(0,D.Ue)()((0,C.mW)((0,C.tJ)((e,t)=>({data:P,sharedData:[],selectedFolder:null,selectedSubfolder:null,selectedPrompt:null,activeView:"sequential",lastMainView:"sequential",sequentialPath:[],slideDirection:"none",isLocked:!0,isLoading:!1,searchQuery:"",toast:null,dragState:{draggedItemId:null,draggedItemType:null,dropTargetId:null},moveSelector:{open:!1,draggedId:null,draggedType:null,availableTargets:[]},justDroppedId:null,editModal:{isOpen:!1,item:null,isFullEdit:!1,isImport:!1},isSettingsOpen:!1,isNotificationsOpen:!1,isHistoryOpen:!1,isMasterLoginOpen:!1,isPromptViewerOpen:!1,currentUser:$,preferences:L,notifications:T,generatedKeys:[{id:"master",userName:"Natasha (Admin)",key:I,active:!0}],masterKey:I,actions:{setData:t=>e({data:t}),addItem:(t,s=null)=>e(e=>({data:Z(e.data,s,t)})),updateItem:(t,s)=>e(e=>({data:E(e.data,t,s)})),deleteItem:s=>{let r=t(),a=r.actions.findItem(s),i=a?.name||"Item";e(e=>({data:S(e.data,s),selectedFolder:e.selectedFolder?.id===s?null:e.selectedFolder,selectedSubfolder:e.selectedSubfolder?.id===s?null:e.selectedSubfolder,selectedPrompt:e.selectedPrompt?.id===s?null:e.selectedPrompt})),r.actions.showToast(`"${i}" exclu\xeddo!`,"success")},moveItem:(s,r)=>{let a=t(),i=a.actions.findItem(s);if(i){if("folder"===i.type&&r&&a.actions.isDescendant(s,r)){a.actions.showToast("N\xe3o \xe9 poss\xedvel mover uma pasta para dentro de si mesma.","error");return}e(e=>{let t=S([...e.data],s);return{data:t=Z(t,r,i),justDroppedId:s}}),setTimeout(()=>e({justDroppedId:null}),300)}},importPackage:(e,s=null)=>{let r={...e,id:`imported-${Date.now()}`,updatedAt:Date.now()};t().actions.addItem(r,s),t().actions.showToast("Pacote importado com sucesso!","success")},setSelectedFolder:t=>e({selectedFolder:t,selectedSubfolder:null,selectedPrompt:null}),setSelectedSubfolder:t=>e({selectedSubfolder:t,selectedPrompt:null}),setSelectedPrompt:t=>e({selectedPrompt:t}),clearSelection:()=>e({selectedFolder:null,selectedSubfolder:null,selectedPrompt:null}),setActiveView:t=>e(e=>({activeView:t,lastMainView:"shared"!==t?t:e.lastMainView,sequentialPath:"sequential"===t?[]:e.sequentialPath})),navigateToFolder:t=>e(e=>({sequentialPath:[...e.sequentialPath,t.id],slideDirection:"left"})),navigateToIndex:t=>e(e=>({sequentialPath:e.sequentialPath.slice(0,t+1),slideDirection:"right"})),goBack:()=>e(e=>({sequentialPath:e.sequentialPath.slice(0,-1),slideDirection:"right"})),goToRoot:()=>e({sequentialPath:[],slideDirection:"right"}),setIsLocked:s=>{e({isLocked:s}),t().actions.showToast(s?"Bloqueado":"Desbloqueado","info")},setIsLoading:t=>e({isLoading:t}),setSearchQuery:t=>e({searchQuery:t}),showToast:(t,s)=>{e({toast:{message:t,type:s}}),setTimeout(()=>e({toast:null}),3e3)},clearToast:()=>e({toast:null}),setJustDroppedId:t=>e({justDroppedId:t}),setDragState:t=>e(e=>({dragState:{...e.dragState,...t}})),setMoveSelector:t=>e(e=>({moveSelector:{...e.moveSelector,...t}})),closeMoveSelector:()=>e({moveSelector:{open:!1,draggedId:null,draggedType:null,availableTargets:[]}}),openEditModal:(t,s=!1,r=!1)=>e({editModal:{isOpen:!0,item:t,isFullEdit:s,isImport:r}}),closeEditModal:()=>e({editModal:{isOpen:!1,item:null,isFullEdit:!1,isImport:!1}}),setSettingsOpen:t=>e({isSettingsOpen:t}),setNotificationsOpen:t=>e({isNotificationsOpen:t}),setHistoryOpen:t=>e({isHistoryOpen:t}),setMasterLoginOpen:t=>e({isMasterLoginOpen:t}),setPromptViewerOpen:t=>e({isPromptViewerOpen:t}),setCurrentUser:t=>e({currentUser:t}),updatePreferences:t=>e(e=>({preferences:{...e.preferences,...t}})),login:(s,r)=>{let a=t(),i=a.generatedKeys.find(e=>e.key===r&&e.userName===s&&e.active);return r===a.masterKey?(e({currentUser:{...$}}),!0):!!i&&(e({currentUser:{name:s,role:"user",keyId:r,avatar:null}}),t().actions.showToast(`Bem-vindo, ${s}!`,"success"),!0)},logout:()=>e({currentUser:$}),addNotification:t=>e(e=>({notifications:[{...t,id:Date.now()},...e.notifications]})),markNotificationRead:t=>e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e)})),markAllNotificationsRead:()=>e(e=>({notifications:e.notifications.map(e=>({...e,read:!0}))})),clearNotifications:()=>e({notifications:[]}),generateKey:s=>{let r=k(),a={id:Date.now().toString(),userName:s,key:r,active:!0,createdAt:Date.now()};return e(e=>({generatedKeys:[...e.generatedKeys,a]})),t().actions.showToast(`Chave gerada para ${s}`,"success"),r},revokeKey:t=>e(e=>({generatedKeys:e.generatedKeys.map(e=>e.id===t?{...e,active:!1}:e)})),validateKey:e=>t().generatedKeys.find(t=>t.key===e&&t.active)||null,findItem:e=>z(t().data,e),getValidMoveTargets:e=>{let s=[],r=t=>{for(let a of t)a.id!==e&&"folder"===a.type&&(s.push(a),a.children&&r(a.children))};return r(t().data),s},isDescendant:(e,s)=>{let r=t().actions.findItem(e);if(!r||"folder"!==r.type)return!1;let a=e=>{for(let t of e)if(t.id===s||"folder"===t.type&&t.children&&a(t.children))return!0;return!1};return a(r.children||[])},getCurrentSequentialNodes:()=>{let e=t(),s=e.data,r=null,a="Pastas Principais";for(let t of e.sequentialPath){let e=s.find(e=>e.id===t);if(!e||"folder"!==e.type||!e.children)return{nodes:[],title:"Erro",currentItem:null};r=e,s=e.children,a=e.name}return{nodes:s,title:a,currentItem:r}}}}),{name:"pex-os-prompt-manager",partialize:e=>({data:e.data,preferences:e.preferences,generatedKeys:e.generatedKeys})}),{name:"PromptManager"})),A=[{id:"sequential",label:"Sequencial",icon:l.Z},{id:"miller",label:"Colunas",icon:n.Z},{id:"mindmap",label:"Hierarquia",icon:o.Z}],q=()=>{let[e,t]=i().useState(!1),s=i().useRef(null),a=M(e=>e.currentUser),l=M(e=>e.notifications),{setSettingsOpen:n,setNotificationsOpen:o,setMasterLoginOpen:u,logout:h}=M(e=>e.actions),p=l.filter(e=>!e.read).length,g="master"===a.role&&a.keyId;i().useEffect(()=>{let e=e=>{s.current&&!s.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let f=(e=>{let t=e.replace(/[^a-zA-Z\s]/g,"").trim().split(/\s+/);return 0===t.length?"??":1===t.length?t[0].substring(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()})(a.name);return(0,r.jsxs)("div",{className:"relative",ref:s,children:[(0,r.jsxs)("button",{onClick:()=>t(!e),className:"group w-8 h-8 ml-2 relative outline-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2979ff] rounded-full",title:"Meu Perfil",children:[r.jsx("div",{className:`
            w-full h-full rounded-full bg-gradient-to-br from-[#2a3040] to-[#1e2330] 
            flex items-center justify-center text-[10px] font-bold tracking-wide 
            border transition-all shadow-inner text-indigo-400 overflow-hidden
            ${e?"border-[#2979ff] ring-2 ring-[#2979ff]/20":"border-white/10 group-hover:border-white/30"}
          `,children:a.avatar?r.jsx("img",{src:a.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):f}),p>0&&!e&&r.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-3 h-3 bg-red-500 border-2 border-[#0f111a] rounded-full z-10"})]}),e&&(0,r.jsxs)("div",{className:"absolute top-full right-0 mt-3 w-60 bg-[#1e2330] border border-white/10 rounded-xl shadow-2xl shadow-black/50 z-50 overflow-hidden ring-1 ring-white/5 origin-top-right animate-pop-in-menu",children:[r.jsx("div",{className:"p-4 border-b border-white/5 bg-[#252b3b]/50",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`
                  w-9 h-9 rounded-full flex items-center justify-center text-white font-bold text-xs 
                  shadow-lg overflow-hidden shrink-0
                  ${"master"===a.role?"bg-gradient-to-br from-red-600 to-orange-600":"bg-gradient-to-br from-indigo-500 to-blue-600"}
                `,children:a.avatar?r.jsx("img",{src:a.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):f}),(0,r.jsxs)("div",{className:"min-w-0",children:[r.jsx("h4",{className:"text-xs font-bold text-white truncate",children:a.name}),r.jsx("span",{className:`
                    text-[10px] px-1.5 py-0.5 rounded-full inline-block mt-0.5
                    ${"master"===a.role?"bg-red-500/20 text-red-300":"bg-blue-500/20 text-blue-300"}
                  `,children:"master"===a.role?"Master Admin":"User"})]})]})}),(0,r.jsxs)("div",{className:"p-1 space-y-0.5",children:[g&&(0,r.jsxs)("button",{onClick:()=>{t(!1),u(!0)},className:"w-full text-left px-3 py-2 text-xs font-medium bg-red-500/5 hover:bg-red-500/10 text-red-400 hover:text-red-300 rounded-lg flex items-center gap-3 transition-all mb-1",children:[r.jsx(d.Z,{size:14,className:"shrink-0"})," Master Access"]}),(0,r.jsxs)("button",{onClick:()=>{o(!0),t(!1)},className:"w-full text-left px-3 py-2 text-xs font-medium text-gray-300 hover:bg-white/5 hover:text-white rounded-lg flex items-center gap-3 transition-colors",children:[r.jsx(c.Z,{size:14,className:"shrink-0 text-gray-400"}),r.jsx("span",{className:"flex-1",children:"Notifica\xe7\xf5es"}),p>0&&r.jsx("span",{className:"flex items-center justify-center bg-red-500 text-white text-[9px] font-bold h-4 min-w-[16px] px-1 rounded-full shadow-sm",children:p})]}),(0,r.jsxs)("button",{onClick:()=>{n(!0),t(!1)},className:"w-full text-left px-3 py-2 text-xs font-medium text-gray-300 hover:bg-white/5 hover:text-white rounded-lg flex items-center gap-3 transition-colors",children:[r.jsx(x.Z,{size:14,className:"shrink-0 text-gray-400"})," Configura\xe7\xf5es"]})]}),r.jsx("div",{className:"p-1 border-t border-white/5 mt-0.5",children:(0,r.jsxs)("button",{onClick:()=>{t(!1),h()},className:"w-full text-left px-3 py-2 text-xs font-medium text-gray-300 hover:bg-white/5 hover:text-white rounded-lg flex items-center gap-3 transition-colors",children:[r.jsx(m.Z,{size:14,className:"shrink-0"}),"master"===a.role?"Sair da Conta":"Sair da Sess\xe3o"]})})]})]})},F=()=>{let e=M(e=>e.activeView),t=M(e=>e.isLocked),s=M(e=>e.searchQuery),a=M(e=>e.notifications),{setActiveView:i,setSearchQuery:l,setIsLocked:n,setNotificationsOpen:o,setHistoryOpen:d}=M(e=>e.actions),x=a.filter(e=>!e.read).length;return(0,r.jsxs)("header",{className:"h-14 bg-[#1e2330] border-b border-white/5 flex items-center justify-between px-4 shrink-0 z-20 relative",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-white font-bold text-lg tracking-tight",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#2979ff] to-[#1e2330] rounded-lg flex items-center justify-center shadow-lg shadow-blue-900/20",children:r.jsx(u.Z,{size:18,className:"text-white"})}),r.jsx("span",{className:"hidden sm:inline",children:"Prompt Manager"})]}),(0,r.jsxs)("div",{className:"relative group hidden md:block",children:[r.jsx(h.Z,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#2979ff] transition-colors"}),r.jsx("input",{id:"search-input",type:"text",placeholder:"Buscar (Ctrl+F)...",value:s,onChange:e=>l(e.target.value),className:"h-9 w-64 bg-[#0f111a] border border-white/10 rounded-lg pl-9 pr-3 text-xs text-gray-300 focus:outline-none focus:border-[#2979ff] focus:w-80 transition-all placeholder-gray-600"}),(0,r.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1 pointer-events-none",children:[r.jsx("span",{className:"text-[10px] font-mono text-gray-600 border border-white/5 px-1 rounded bg-white/5",children:"Ctrl"}),r.jsx("span",{className:"text-[10px] font-mono text-gray-600 border border-white/5 px-1 rounded bg-white/5",children:"F"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-[#0f111a] p-1 rounded-lg border border-white/5 mr-2",children:[A.map(t=>r.jsx(y,{content:t.label,position:"bottom",children:r.jsx("button",{onClick:()=>i(t.id),className:`
                  p-1.5 rounded transition-all relative
                  ${e===t.id?"bg-[#2979ff] text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}
                `,children:r.jsx(t.icon,{size:16})})},t.id)),r.jsx(y,{content:"Compartilhados",position:"bottom",children:r.jsx("button",{onClick:()=>i("shared"),className:`
                p-1.5 rounded transition-all relative
                ${"shared"===e?"bg-[#5b4eff] text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}
              `,children:r.jsx(p.Z,{size:16})})})]}),r.jsx(N,{label:t?"Desbloquear Edi\xe7\xe3o":"Bloquear Edi\xe7\xe3o",shortcut:"Ctrl+L",position:"bottom",children:r.jsx("button",{onClick:()=>n(!t),className:`
              p-2 rounded-lg transition-all
              ${t?"text-red-400 bg-red-500/10 hover:bg-red-500/20":"text-green-400 bg-green-500/10 hover:bg-green-500/20"}
            `,children:t?r.jsx(g.Z,{size:18}):r.jsx(f.Z,{size:18})})}),r.jsx(y,{content:"Notifica\xe7\xf5es",position:"bottom",children:(0,r.jsxs)("button",{onClick:()=>o(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors relative",children:[r.jsx(c.Z,{size:18}),x>0&&r.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border-2 border-[#1e2330]"})]})}),r.jsx(y,{content:"Hist\xf3rico",position:"bottom",children:r.jsx("button",{onClick:()=>d(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:r.jsx(b.Z,{size:18})})}),r.jsx("div",{className:"h-6 w-px bg-white/10 mx-1"}),r.jsx(q,{})]})]})};var O=s(7492),R=s(5557),B=s(1540),K=s(3685),U=s(6993),V=s(7129),_=s(8091),H=s(3855);let J=process.env.NEXT_PUBLIC_API_URL||"/api";class Q{constructor(e){this.baseUrl=e}async get(e){try{let t=await fetch(`${this.baseUrl}${e}`);return await t.json()}catch(e){return console.error("API request error:",e),{data:null,success:!1}}}}let G=new Q(J),X={async createBackup(){let e=(await G.get("/prompts")).data||[],t=new Blob([JSON.stringify({version:"1.0.0",timestamp:Date.now(),data:e},null,2)],{type:"application/json"});return URL.createObjectURL(t)},async restoreBackup(e){try{let t=await e.text(),s=JSON.parse(t);if(!s.data||!Array.isArray(s.data))throw Error("Invalid backup format");return!0}catch(e){return console.error("Restore backup error:",e),!1}},downloadBackup(e,t="pex-os-backup.json"){let s=document.createElement("a");s.href=e,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(e)}},Y=({className:e="",variant:t="default"})=>{let s=M(e=>e.isLocked),a=M(e=>e.selectedFolder),i=M(e=>e.selectedPrompt),{showToast:l,openEditModal:n}=M(e=>e.actions),o=()=>{if(s){l("Desbloqueie para criar pastas","warning");return}l("Criar nova pasta...","info")},d=()=>{if(s){l("Desbloqueie para criar prompts","warning");return}l("Criar novo prompt...","info")},c=async()=>{try{let e=await X.createBackup();X.downloadBackup(e,`pex-os-backup-${Date.now()}.json`),l("Backup exportado com sucesso!","success")}catch(e){l("Erro ao exportar backup","error")}},x=()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{let t=e.target.files?.[0];t&&(await X.restoreBackup(t)?(l("Backup restaurado com sucesso!","success"),window.location.reload()):l("Erro ao restaurar backup","error"))},e.click()},m=()=>{if(!a&&!i){l("Selecione um item para compartilhar","warning");return}l("Compartilhando...","info")},u=()=>{if(!a&&!i){l("Selecione um item para gerar link","warning");return}let e=i||a,t=`${window.location.origin}/share/${e?.id}`;navigator.clipboard.writeText(t),l("Link copiado!","success")},h=()=>{if(s){l("Desbloqueie para deletar","warning");return}if(!a&&!i){l("Selecione um item para deletar","warning");return}l("Confirmar exclus\xe3o?","warning")},p=`
    flex items-center justify-center gap-2 px-4 py-2 
    bg-[#2979ff] hover:bg-[#2264d1] text-white 
    text-xs font-bold rounded-lg transition-all 
    shadow-lg shadow-blue-900/20 hover:shadow-blue-900/40 
    active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed
  `,g=`
    flex items-center justify-center gap-2 px-3 py-2 
    bg-[#1e2330] hover:bg-white/10 text-gray-300 hover:text-white
    text-xs font-medium rounded-lg transition-all 
    border border-white/10 hover:border-white/20
    active:scale-[0.98]
  `,f=`
    p-2 rounded-lg transition-all
    text-gray-400 hover:text-white hover:bg-white/10
    active:scale-[0.95]
  `;return"compact"===t?(0,r.jsxs)("div",{className:`flex items-center gap-1 ${e}`,children:[r.jsx(y,{content:"Nova Pasta",position:"bottom",children:r.jsx("button",{onClick:o,className:f,disabled:s,children:r.jsx(O.Z,{size:16})})}),r.jsx(y,{content:"Novo Prompt",position:"bottom",children:r.jsx("button",{onClick:d,className:f,disabled:s,children:r.jsx(R.Z,{size:16})})}),r.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),r.jsx(y,{content:"Exportar",position:"bottom",children:r.jsx("button",{onClick:c,className:f,children:r.jsx(B.Z,{size:16})})}),r.jsx(y,{content:"Importar",position:"bottom",children:r.jsx("button",{onClick:x,className:f,children:r.jsx(K.Z,{size:16})})})]}):"expanded"===t?(0,r.jsxs)("div",{className:`flex flex-col gap-2 p-4 bg-[#1e2330] rounded-xl border border-white/10 ${e}`,children:[r.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"A\xe7\xf5es R\xe1pidas"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("button",{onClick:o,className:p,disabled:s,children:[r.jsx(O.Z,{size:14})," Nova Pasta"]}),(0,r.jsxs)("button",{onClick:d,className:p,disabled:s,children:[r.jsx(R.Z,{size:14})," Novo Prompt"]})]}),r.jsx("div",{className:"h-px bg-white/5 my-2"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("button",{onClick:c,className:g,children:[r.jsx(B.Z,{size:14})," Exportar"]}),(0,r.jsxs)("button",{onClick:x,className:g,children:[r.jsx(K.Z,{size:14})," Importar"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("button",{onClick:m,className:g,children:[r.jsx(U.Z,{size:14})," Compartilhar"]}),(0,r.jsxs)("button",{onClick:u,className:g,children:[r.jsx(V.Z,{size:14})," Copiar Link"]})]}),r.jsx("div",{className:"h-px bg-white/5 my-2"}),(0,r.jsxs)("button",{onClick:h,className:`${g} text-red-400 hover:text-red-300 hover:bg-red-500/10 hover:border-red-500/20`,disabled:s,children:[r.jsx(_.Z,{size:14})," Excluir Selecionado"]})]}):(0,r.jsxs)("div",{className:`flex items-center gap-2 ${e}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-[#0f111a] p-1 rounded-lg border border-white/5",children:[r.jsx(N,{label:"Nova Pasta",shortcut:"Ctrl+N",position:"bottom",children:r.jsx("button",{onClick:o,className:f,disabled:s,children:r.jsx(O.Z,{size:16})})}),r.jsx(N,{label:"Novo Prompt",shortcut:"Ctrl+P",position:"bottom",children:r.jsx("button",{onClick:d,className:f,disabled:s,children:r.jsx(R.Z,{size:16})})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-[#0f111a] p-1 rounded-lg border border-white/5",children:[r.jsx(y,{content:"Exportar Backup",position:"bottom",children:r.jsx("button",{onClick:c,className:f,children:r.jsx(B.Z,{size:16})})}),r.jsx(y,{content:"Importar Backup",position:"bottom",children:r.jsx("button",{onClick:x,className:f,children:r.jsx(K.Z,{size:16})})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-[#0f111a] p-1 rounded-lg border border-white/5",children:[r.jsx(y,{content:"Compartilhar",position:"bottom",children:r.jsx("button",{onClick:m,className:f,children:r.jsx(U.Z,{size:16})})}),r.jsx(y,{content:"Copiar Link",position:"bottom",children:r.jsx("button",{onClick:u,className:f,children:r.jsx(V.Z,{size:16})})})]}),r.jsx(y,{content:"Excluir",position:"bottom",children:r.jsx("button",{onClick:h,className:`${f} hover:text-red-400 hover:bg-red-500/10`,disabled:s,children:r.jsx(_.Z,{size:16})})})]})},W=({className:e=""})=>{let[t,s]=i().useState(!1),a=M(e=>e.isLocked),{showToast:l}=M(e=>e.actions);return(0,r.jsxs)("div",{className:`fixed bottom-6 right-6 z-50 ${e}`,children:[t&&(0,r.jsxs)("div",{className:"absolute bottom-16 right-0 flex flex-col gap-2 animate-slide-up-fade",children:[r.jsx(y,{content:"Nova Pasta",position:"left",children:r.jsx("button",{onClick:()=>{if(a){l("Desbloqueie para criar","warning");return}l("Criar pasta...","info"),s(!1)},className:"w-12 h-12 rounded-full bg-[#1e2330] border border-white/10 shadow-lg flex items-center justify-center text-gray-300 hover:text-white hover:bg-[#2979ff]/10 hover:border-[#2979ff]/50 transition-all",children:r.jsx(O.Z,{size:20})})}),r.jsx(y,{content:"Novo Prompt",position:"left",children:r.jsx("button",{onClick:()=>{if(a){l("Desbloqueie para criar","warning");return}l("Criar prompt...","info"),s(!1)},className:"w-12 h-12 rounded-full bg-[#1e2330] border border-white/10 shadow-lg flex items-center justify-center text-gray-300 hover:text-white hover:bg-[#2979ff]/10 hover:border-[#2979ff]/50 transition-all",children:r.jsx(R.Z,{size:20})})})]}),r.jsx("button",{onClick:()=>s(!t),className:`
          w-14 h-14 rounded-full shadow-2xl flex items-center justify-center
          transition-all duration-300
          ${t?"bg-[#1e2330] text-white rotate-45":"bg-[#2979ff] text-white hover:bg-[#2264d1]"}
        `,children:r.jsx(H.Z,{size:24})})]})};var ee=s(5206),et=s(6333),es=s(9798),er=s(8932),ea=s(9183);let ei=({children:e,isExpanded:t})=>r.jsx("div",{style:{transition:"grid-template-rows 200ms ease-out, opacity 200ms ease-out",gridTemplateRows:t?"1fr":"0fr",opacity:t?1:0,overflow:"hidden"},className:"grid",children:r.jsx("div",{className:"min-h-0",children:e})}),el=({children:e,direction:t,className:s=""})=>r.jsx("div",{className:`${{left:"animate-slide-left",right:"animate-slide-right",none:"animate-in fade-in zoom-in-95 duration-300"}[t]} ${s}`,children:e}),en=({children:e,className:t=""})=>r.jsx("div",{className:`animate-modal-bounce ${t}`,children:e}),eo=({children:e,onClick:t,onMouseDown:s,onMouseUp:a,className:i=""})=>r.jsx("div",{className:`
        fixed inset-0 z-[200] flex items-center justify-center 
        bg-black/70 backdrop-blur-sm 
        animate-in fade-in duration-200
        ${i}
      `,onClick:t,onMouseDown:s,onMouseUp:a,children:e}),ed=({item:e,index:t,onNavigate:s,onSelectPrompt:a,onEdit:i,onShare:l,onDragStart:n,onDragOver:o,onDragLeave:d,onDrop:c,isLocked:x,isDragging:m,isJustDropped:u})=>{let h="folder"===e.type;return(0,r.jsxs)("div",{draggable:!x,onDragStart:t=>n(t,e),onDragOver:o,onDragLeave:d,onDrop:t=>c(t,e),onClick:()=>h?s(e):a(e),tabIndex:0,onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),h?s(e):a(e))},className:`
        group relative flex flex-col justify-between min-h-[160px] w-fit min-w-[260px] max-w-[280px] shrink-0
        rounded-xl border-l-[6px] border-y border-r px-3.5 py-3 cursor-pointer transition-all duration-200 
        shadow-xl shadow-black/20 hover:scale-[1.01]
        ${h?"bg-gradient-to-br from-[#2979ff]/8 via-[#2979ff]/3 to-transparent border-l-[#2979ff] border-y-[#2979ff]/20 border-r-[#2979ff]/20 hover:shadow-[0_0_30px_rgba(41,121,255,0.15)]":"bg-gradient-to-br from-[#10b981]/8 via-[#10b981]/3 to-transparent border-l-[#10b981] border-y-[#10b981]/20 border-r-[#10b981]/20 hover:shadow-[0_0_30px_rgba(16,185,129,0.15)]"}
        ${x?"":"cursor-grab active:cursor-grabbing"}
        ${m?"opacity-40 scale-95 border-dashed":""}
        ${u?"animate-success-pulse ring-2 ring-green-500":""}
        animate-slide-up-fade
      `,style:{animationDelay:`${50*t}ms`},children:[r.jsx("div",{className:"flex justify-between items-start mb-3",children:r.jsx("div",{className:`
          w-12 h-12 rounded-xl flex items-center justify-center text-2xl shadow-lg 
          transition-transform group-hover:scale-110
          ${h?"bg-gradient-to-br from-blue-500/10 to-indigo-500/10":"bg-gradient-to-br from-emerald-500/10 to-teal-500/10"}
        `,children:e.emoji||(h?"\uD83D\uDCC1":"\uD83D\uDCC4")})}),r.jsx("h3",{className:"text-white font-bold text-base mb-1 truncate pr-2",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-2",children:[r.jsx("span",{children:e.date||"Hoje"}),h&&e.children&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-600"}),(0,r.jsxs)("span",{children:[e.children.length," itens"]})]}),!h&&e.category&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-600"}),r.jsx("span",{className:"px-1.5 py-0.5 rounded bg-white/5 border border-white/5",children:e.category})]})]}),!h&&e.tags&&e.tags.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[e.tags.slice(0,2).map(e=>r.jsx("span",{className:"text-[10px] uppercase font-bold px-2 py-0.5 rounded bg-white/5 text-gray-400 border border-white/5",children:e},e)),e.tags.length>2&&(0,r.jsxs)("span",{className:"text-[10px] text-gray-400",children:["+",e.tags.length-2]})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-white/5 mt-auto",children:[r.jsx(y,{content:`Editar ${e.type}`,position:"top",children:(0,r.jsxs)("button",{onClick:t=>{t.stopPropagation(),i(e)},className:"flex-1 flex items-center justify-center gap-1.5 px-4 py-2 bg-[#2979ff] hover:bg-[#2264d1] text-white rounded-lg transition-all text-xs font-bold shadow-lg shadow-blue-900/30 hover:shadow-blue-900/50 active:scale-95",children:[r.jsx(ee.Z,{size:12})," EDITAR"]})}),r.jsx(y,{content:"Compartilhar",position:"top",children:r.jsx("button",{onClick:t=>{t.stopPropagation(),l(e)},className:"p-2 bg-transparent hover:bg-white/5 text-gray-400 hover:text-white rounded-lg transition-all border border-white/10 hover:border-white/20 active:scale-95 group",children:r.jsx(U.Z,{size:14,className:"group-hover:rotate-12 transition-transform"})})})]})]})},ec=()=>{let e=M(e=>e.data),t=M(e=>e.sequentialPath),s=M(e=>e.slideDirection),a=M(e=>e.isLocked),l=M(e=>e.dragState),n=M(e=>e.justDroppedId),{navigateToFolder:o,navigateToIndex:d,goBack:c,goToRoot:x,setDragState:m,openEditModal:u,setPromptViewerOpen:h,setSelectedPrompt:p,showToast:g,moveItem:f}=M(e=>e.actions),{nodes:b,title:j}=(()=>{let s=e,r="Pastas Principais";for(let e of t){let t=s.find(t=>t.id===e);if(!t||"folder"!==t.type||!t.children)return{nodes:[],title:"Erro"};s=t.children,r=t.name}return{nodes:s,title:r}})(),v=(()=>{let s=[],r=e;for(let e of t){let t=r.find(t=>t.id===e);t&&"folder"===t.type&&(s.push({id:t.id,name:t.name,emoji:t.emoji}),r=t.children||[])}return s})(),w=(e,t)=>{if(a){e.preventDefault(),g("Desbloqueie para arrastar","warning");return}e.dataTransfer.setData("text/plain",t.id),e.dataTransfer.effectAllowed="move",m({draggedItemId:t.id,draggedItemType:t.type})},y=e=>{a||(e.preventDefault(),e.currentTarget.classList.add("ring-2","ring-[#2979ff]","scale-[1.02]"))},N=e=>{e.currentTarget.classList.remove("ring-2","ring-[#2979ff]","scale-[1.02]")},D=(e,t)=>{if(a)return;e.preventDefault(),e.currentTarget.classList.remove("ring-2","ring-[#2979ff]","scale-[1.02]");let s=l.draggedItemId;if(!s||s===t.id){m({draggedItemId:null,draggedItemType:null});return}"folder"===t.type?f(s,t.id):g("Solte sobre uma pasta","info"),m({draggedItemId:null,draggedItemType:null})},C=e=>{o(e)},k=e=>{p(e),h(!0)},z=e=>{u(e,!1)},S=e=>{g(`Compartilhando "${e.name}"...`,"success")};return(0,r.jsxs)("div",{className:"p-8 max-w-5xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[t.length>0&&r.jsx("button",{onClick:c,className:"p-2 rounded-full bg-white/5 hover:bg-white/10 text-white transition-all hover:-translate-x-1",children:r.jsx(et.Z,{size:20})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[0===t.length?r.jsx(es.Z,{size:28,className:"text-[#2979ff]"}):r.jsx(er.Z,{size:28,className:"text-[#2979ff]"}),j]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400 mt-2",children:[(0,r.jsxs)("button",{onClick:x,className:`hover:text-white transition-colors flex items-center gap-1 ${0===t.length?"text-white font-bold":""}`,children:[r.jsx(es.Z,{size:14})," In\xedcio"]}),v.map((e,t)=>(0,r.jsxs)(i().Fragment,{children:[r.jsx(ea.Z,{size:12,className:"text-gray-500"}),(0,r.jsxs)("button",{onClick:()=>d(t),className:`hover:text-white transition-colors flex items-center gap-1 ${t===v.length-1?"text-white font-bold":""}`,children:[e.emoji," ",e.name]})]},e.id))]}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm mt-1 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),b.length," itens dispon\xedveis"]})]})]}),(0,r.jsxs)(el,{direction:s,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[b.map((e,t)=>r.jsx(ed,{item:e,index:t,onNavigate:C,onSelectPrompt:k,onEdit:z,onShare:S,onDragStart:w,onDragOver:y,onDragLeave:N,onDrop:D,isLocked:a,isDragging:l.draggedItemId===e.id,isJustDropped:n===e.id},e.id)),0===b.length&&(0,r.jsxs)("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 border-2 border-dashed border-white/5 rounded-xl bg-white/[0.02] animate-in fade-in zoom-in-95 duration-300",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:r.jsx(er.Z,{size:32,className:"opacity-40"})}),r.jsx("p",{className:"text-sm font-bold text-gray-300",children:"Esta pasta est\xe1 vazia"}),r.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Comece criando uma nova pasta ou prompt."})]}),(0,r.jsxs)("button",{onClick:()=>{if(a){g("Desbloqueie para criar","warning");return}g("Criar nova pasta...","info")},className:"flex flex-col items-center justify-center gap-3 bg-[#1e2330]/30 border border-dashed border-white/10 hover:border-[#2979ff]/50 hover:bg-[#2979ff]/5 rounded-xl p-5 cursor-pointer transition-all group animate-slide-up-fade min-h-[160px]",style:{animationDelay:`${50*b.length}ms`},children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center text-gray-400 group-hover:text-[#2979ff] group-hover:scale-110 transition-all",children:r.jsx(H.Z,{size:24})}),r.jsx("span",{className:"text-sm font-medium text-gray-400 group-hover:text-[#2979ff]",children:"Nova Pasta"})]})]})]})};var ex=s(5983),em=s(2123),eu=s(1572),eh=s(2714),ep=s(3810),eg=s(9598);let ef=({x:e,y:t,item:s,onClose:i,onEdit:l,onDelete:n,onMove:o,onCreateFolder:d,onCreatePrompt:c,onCopy:x,onShare:m})=>{let u=(0,a.useRef)(null),h=M(e=>e.isLocked),{showToast:p,openEditModal:g,setPromptViewerOpen:f,setSelectedPrompt:b}=M(e=>e.actions),j="folder"===s.type,[v,w]=(0,a.useState)({x:e,y:t});(0,a.useEffect)(()=>{if(u.current){let s=u.current.getBoundingClientRect(),r=window.innerWidth,a=window.innerHeight,i=e,l=t;e+s.width>r-20&&(i=r-s.width-20),t+s.height>a-20&&(l=a-s.height-20),w({x:i,y:l})}},[e,t]),(0,a.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&i()},t=e=>{"Escape"===e.key&&i()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[i]);let y=[];return j||y.push({id:"view",label:"Visualizar",icon:r.jsx(eh.Z,{size:14}),onClick:()=>{b(s),f(!0),i()}}),y.push({id:"edit",label:"Editar",icon:r.jsx(ee.Z,{size:14}),onClick:()=>{l?l(s):g(s,!j),i()}}),y.push({id:"copy",label:j?"Duplicar":"Copiar Conte\xfado",icon:r.jsx(ep.Z,{size:14}),onClick:()=>{x?x(s):j?p("Pasta duplicada!","success"):(navigator.clipboard.writeText(s.content||""),p("Conte\xfado copiado!","success")),i()}}),y.push({id:"div1",label:"",icon:null,onClick:()=>{},divider:!0}),j&&(y.push({id:"create-folder",label:"Nova Subpasta",icon:r.jsx(O.Z,{size:14}),onClick:()=>{h?p("Desbloqueie para criar","warning"):d?d(s.id):p("Criar subpasta...","info"),i()},disabled:h}),y.push({id:"create-prompt",label:"Novo Prompt",icon:r.jsx(R.Z,{size:14}),onClick:()=>{h?p("Desbloqueie para criar","warning"):c?c(s.id):p("Criar prompt...","info"),i()},disabled:h})),y.push({id:"move",label:"Mover para...",icon:r.jsx(eg.Z,{size:14}),onClick:()=>{h?p("Desbloqueie para mover","warning"):o?o(s):p("Selecionar destino...","info"),i()},disabled:h}),y.push({id:"div2",label:"",icon:null,onClick:()=>{},divider:!0}),y.push({id:"share",label:"Compartilhar",icon:r.jsx(U.Z,{size:14}),onClick:()=>{m?m(s):p(`Compartilhando "${s.name}"...`,"info"),i()}}),y.push({id:"copy-link",label:"Copiar Link",icon:r.jsx(V.Z,{size:14}),onClick:()=>{let e=`${window.location.origin}/share/${s.id}`;navigator.clipboard.writeText(e),p("Link copiado!","success"),i()}}),y.push({id:"div3",label:"",icon:null,onClick:()=>{},divider:!0}),y.push({id:"delete",label:"Excluir",icon:r.jsx(_.Z,{size:14}),onClick:()=>{h?p("Desbloqueie para excluir","warning"):n?n(s):p("Confirmar exclus\xe3o?","warning"),i()},disabled:h,danger:!0}),(0,r.jsxs)("div",{ref:u,style:{top:v.y,left:v.x},className:"fixed z-[300] bg-[#1e2330] border border-white/10 rounded-xl shadow-2xl py-1 min-w-[180px] animate-context-menu",children:[r.jsx("div",{className:"px-3 py-2 border-b border-white/5 mb-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:s.emoji||(j?"\uD83D\uDCC1":"\uD83D\uDCC4")}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs font-bold text-white truncate",children:s.name}),r.jsx("p",{className:"text-[10px] text-gray-500",children:j?`${s.children?.length||0} itens`:s.category||"Prompt"})]})]})}),y.map(e=>e.divider?r.jsx("div",{className:"h-px bg-white/5 my-1"},e.id):(0,r.jsxs)("button",{onClick:e.onClick,disabled:e.disabled,className:`
              w-full px-3 py-2 text-left text-xs flex items-center gap-2.5
              transition-colors disabled:opacity-40 disabled:cursor-not-allowed
              ${e.danger?"text-red-400 hover:bg-red-500/10 hover:text-red-300":"text-gray-300 hover:bg-white/5 hover:text-white"}
            `,children:[e.icon,r.jsx("span",{children:e.label})]},e.id))]})},eb=()=>{let[e,t]=(0,a.useState)(null);return{contextMenu:e,openContextMenu:(0,a.useCallback)((e,s)=>{e.preventDefault(),e.stopPropagation(),t({x:e.clientX,y:e.clientY,item:s})},[]),closeContextMenu:(0,a.useCallback)(()=>{t(null)},[])}},ej=({item:e,isSelected:t,onClick:s,onEdit:a,onDelete:i,onContextMenu:l,onDragStart:n,onDragOver:o,onDragLeave:d,onDrop:c,isLocked:x,isDragging:m,isJustDropped:u})=>{let h="folder"===e.type;return(0,r.jsxs)("div",{draggable:!x,onDragStart:n,onDragOver:o,onDragLeave:d,onDrop:c,onClick:s,onContextMenu:l,"data-item-id":e.id,className:`
        group flex items-center justify-between p-3 rounded-lg cursor-pointer 
        transition-all border
        ${t?"bg-[#2979ff]/10 border-[#2979ff]/30":"bg-[#1e2330] border-white/5 hover:border-white/20"}
        ${m?"opacity-40 scale-95":""}
        ${u?"ring-2 ring-green-500 animate-success-pulse":""}
      `,children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("span",{className:"text-lg",children:e.emoji||(h?"\uD83D\uDCC1":"\uD83D\uDCC4")}),(0,r.jsxs)("div",{className:"min-w-0",children:[r.jsx("p",{className:`text-sm font-medium truncate ${t?"text-white":"text-gray-300"}`,children:e.name}),r.jsx("p",{className:"text-[10px] text-gray-400",children:h?`${e.children?.length||0} itens`:e.category||"Prompt"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:a,className:"p-1 text-gray-400 hover:text-white hover:bg-white/10 rounded transition-colors",children:r.jsx(ee.Z,{size:12})}),!x&&i&&r.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",children:r.jsx(_.Z,{size:12})}),h&&r.jsx(ea.Z,{size:14,className:`text-gray-400 transition-colors ml-1 ${t?"text-[#2979ff]":""}`})]})]})},ev=({title:e,icon:t,items:s,selectedId:a,onSelect:i,onEdit:l,onDelete:n,onContextMenu:o,onNewItem:d,newItemLabel:c,emptyTitle:x,emptyDescription:m,columnType:u,onDragOver:h,onDrop:p,isLocked:g,draggedItemId:f,justDroppedId:b,onDragStart:j,onItemDragOver:v,onItemDragLeave:w,onItemDrop:N})=>(0,r.jsxs)("div",{className:`
        min-w-[280px] max-w-[280px] flex flex-col shrink-0
        ${"prompt"===u?"min-w-[320px] max-w-[320px]":""} bg-[#0f111a]
      `,onDragOver:h,onDrop:p,children:[(0,r.jsxs)("div",{className:"p-3 border-b border-white/5 flex justify-between items-center bg-[#13161c]",children:[(0,r.jsxs)("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[t,e]}),d&&r.jsx(y,{content:c||"Novo",position:"bottom",children:r.jsx("button",{onClick:d,disabled:g,className:"p-1 hover:bg-white/10 rounded text-gray-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(H.Z,{size:14})})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar",children:0===s.length?(0,r.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-500/50 p-4 text-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-3",children:r.jsx(er.Z,{size:20,className:"opacity-50"})}),r.jsx("p",{className:"text-xs font-medium text-gray-400",children:x}),r.jsx("p",{className:"text-[10px] mt-1 opacity-60 max-w-[150px]",children:m})]}):s.map(e=>r.jsx(ej,{item:e,isSelected:a===e.id,onClick:()=>i(e),onEdit:t=>{t.stopPropagation(),l(e)},onDelete:t=>{t.stopPropagation(),n(e)},onContextMenu:t=>o(t,e),onDragStart:t=>j(t,e),onDragOver:v,onDragLeave:w,onDrop:t=>N(t,e),isLocked:g,isDragging:f===e.id,isJustDropped:b===e.id},e.id))})]});var ew=s(7027),ey=s(6307);let eN=({prompt:e,onEdit:t,onOpenFull:s,isLocked:i})=>{let[l,n]=(0,a.useState)(!1),{showToast:o}=M(e=>e.actions);return e?(0,r.jsxs)("div",{className:"flex-1 min-w-[350px] flex flex-col bg-[#13161c] border-l border-white/5",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-white/5 bg-[#181b24]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#2979ff]/20 to-purple-500/20 flex items-center justify-center text-2xl shadow-lg",children:e.emoji||"\uD83D\uDCC4"}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[r.jsx("h3",{className:"text-base font-bold text-white truncate",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsx("span",{className:"px-1.5 py-0.5 rounded bg-white/5 border border-white/5",children:e.category||"Geral"}),r.jsx("span",{children:"•"}),r.jsx("span",{children:e.date})]})]})]}),e.tags&&e.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:e.tags.map(e=>r.jsx("span",{className:"text-[10px] uppercase font-bold px-2 py-0.5 rounded bg-[#2979ff]/10 text-[#2979ff] border border-[#2979ff]/20",children:e},e))}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:s,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#2979ff] hover:bg-[#2264d1] text-white text-xs font-bold rounded-lg transition-all shadow-lg shadow-blue-900/20",children:[r.jsx(ew.Z,{size:14}),"Abrir Completo"]}),r.jsx(y,{content:"Editar",position:"bottom",children:r.jsx("button",{onClick:t,disabled:i,className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors disabled:opacity-50",children:r.jsx(ee.Z,{size:16})})}),r.jsx(y,{content:l?"Copiado!":"Copiar",position:"bottom",children:r.jsx("button",{onClick:()=>{e&&(navigator.clipboard.writeText(e.content||""),n(!0),o("Copiado!","success"),setTimeout(()=>n(!1),2e3))},className:`p-2 rounded-lg transition-colors ${l?"text-green-400 bg-green-500/10":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:l?r.jsx(ey.Z,{size:16}):r.jsx(ep.Z,{size:16})})}),r.jsx(y,{content:"Compartilhar",position:"bottom",children:r.jsx("button",{onClick:()=>o("Compartilhando...","info"),className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:r.jsx(U.Z,{size:16})})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:r.jsx("div",{className:"bg-[#0f111a] border border-white/5 rounded-lg p-4 shadow-inner min-h-[200px]",children:r.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap font-mono leading-relaxed",children:e.content||"Sem conte\xfado"})})}),r.jsx("div",{className:"p-4 border-t border-white/5 bg-[#0f111a]/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-gray-400",children:[(0,r.jsxs)("span",{children:[e.content?.length||0," caracteres"]}),(0,r.jsxs)("span",{children:["Atualizado: ",e.date]})]})})]}):(0,r.jsxs)("div",{className:"flex-1 min-w-[350px] flex flex-col items-center justify-center bg-[#13161c] border-l border-white/5 text-gray-500/50 p-6",children:[r.jsx("div",{className:"w-16 h-16 rounded-xl bg-white/5 flex items-center justify-center mb-4",children:r.jsx(eh.Z,{size:28,className:"opacity-40"})}),r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Preview"}),r.jsx("p",{className:"text-xs mt-1 text-gray-500 text-center max-w-[200px]",children:"Selecione um prompt para visualizar"})]})},eD=()=>{let[e,t]=(0,a.useState)(null),s=M(e=>e.data),i=M(e=>e.selectedFolder),l=M(e=>e.selectedSubfolder),n=M(e=>e.isLocked),o=M(e=>e.dragState),d=M(e=>e.justDroppedId),{setSelectedFolder:c,setSelectedSubfolder:x,setSelectedPrompt:m,setPromptViewerOpen:u,setDragState:h,openEditModal:p,showToast:g,moveItem:f,getValidMoveTargets:b,setMoveSelector:j,findItem:v,isDescendant:w}=M(e=>e.actions),{contextMenu:y,openContextMenu:N,closeContextMenu:D}=eb(),C=s.filter(e=>"folder"===e.type),k=i?(i.children||[]).filter(e=>"folder"===e.type):[],z=l?(l.children||[]).filter(e=>"prompt"===e.type):i?(i.children||[]).filter(e=>"prompt"===e.type):[],S=e=>{p(e,"prompt"===e.type)},Z=e=>{if(n){g("Desbloqueie para excluir","warning");return}g(`Excluir "${e.name}"?`,"warning")},E=(e,t)=>{if(n){e.preventDefault(),g("Desbloqueie para arrastar","warning");return}e.dataTransfer.setData("text/plain",t.id),e.dataTransfer.effectAllowed="move",h({draggedItemId:t.id,draggedItemType:t.type})},I=e=>{n||(e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.add("ring-2","ring-[#2979ff]","scale-[1.02]"))},P=e=>{e.currentTarget.classList.remove("ring-2","ring-[#2979ff]","scale-[1.02]")},$=(e,t)=>{if(n)return;e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("ring-2","ring-[#2979ff]","scale-[1.02]");let s=o.draggedItemId;if(!s||s===t.id){h({draggedItemId:null,draggedItemType:null});return}let r=v(s);if(r?.type==="folder"&&"folder"===t.type&&w(s,t.id)){g("N\xe3o \xe9 poss\xedvel mover para dentro de si mesmo","error"),h({draggedItemId:null,draggedItemType:null});return}"folder"===t.type?f(s,t.id):g("Solte sobre uma pasta","info"),h({draggedItemId:null,draggedItemType:null})},L=e=>{n||(e.preventDefault(),e.stopPropagation())},T=(e,t)=>{if(n)return;e.preventDefault(),e.stopPropagation();let s=o.draggedItemId;if(!s)return;let r=v(s);if(r){if(!e.target.closest("[data-item-id]")){let e=b(s);j({open:!0,draggedId:s,draggedType:r.type,availableTargets:e})}h({draggedItemId:null,draggedItemType:null})}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex h-full divide-x divide-white/5 overflow-x-auto",children:[r.jsx(ev,{title:"Pastas",icon:r.jsx(ex.Z,{size:14}),items:C,selectedId:i?.id||null,onSelect:e=>{"folder"===e.type&&(c(e),t(null))},onEdit:S,onDelete:Z,onContextMenu:N,onNewItem:()=>{if(n){g("Desbloqueie para criar","warning");return}g("Criar nova pasta...","info")},newItemLabel:"Nova Pasta",emptyTitle:"Sem pastas",emptyDescription:"Crie sua primeira pasta",columnType:"root",onDragOver:L,onDrop:e=>T(e,"root"),isLocked:n,draggedItemId:o.draggedItemId,justDroppedId:d,onDragStart:E,onItemDragOver:I,onItemDragLeave:P,onItemDrop:$}),r.jsx(ev,{title:"Subpastas",icon:r.jsx(em.Z,{size:14}),items:k,selectedId:l?.id||null,onSelect:e=>{"folder"===e.type&&(x(e),t(null))},onEdit:S,onDelete:Z,onContextMenu:N,onNewItem:()=>{if(n){g("Desbloqueie para criar","warning");return}if(!i){g("Selecione uma pasta primeiro","warning");return}g("Criar subpasta...","info")},newItemLabel:"Nova Subpasta",emptyTitle:i?"Vazio":"Nenhuma pasta selecionada",emptyDescription:i?"Sem subpastas aqui":"Selecione uma pasta raiz",columnType:"subfolder",onDragOver:L,onDrop:e=>T(e,"subfolder"),isLocked:n,draggedItemId:o.draggedItemId,justDroppedId:d,onDragStart:E,onItemDragOver:I,onItemDragLeave:P,onItemDrop:$}),r.jsx(ev,{title:"Prompts",icon:r.jsx(eu.Z,{size:14}),items:z,selectedId:e?.id||null,onSelect:e=>{"prompt"===e.type&&t(e)},onEdit:S,onDelete:Z,onContextMenu:N,onNewItem:()=>{if(n){g("Desbloqueie para criar","warning");return}if(!i&&!l){g("Selecione uma pasta primeiro","warning");return}g("Criar prompt...","info")},newItemLabel:"Novo Prompt",emptyTitle:i?"Nenhum prompt":"Nenhuma pasta selecionada",emptyDescription:i?"Esta pasta est\xe1 vazia":"Navegue pelas pastas",columnType:"prompt",onDragOver:L,onDrop:e=>T(e,"prompt"),isLocked:n,draggedItemId:o.draggedItemId,justDroppedId:d,onDragStart:E,onItemDragOver:I,onItemDragLeave:P,onItemDrop:$}),r.jsx(eN,{prompt:e,onEdit:()=>e&&S(e),onOpenFull:()=>{e&&(m(e),u(!0))},isLocked:n})]}),y&&r.jsx(ef,{x:y.x,y:y.y,item:y.item,onClose:D,onEdit:S,onDelete:Z})]})};var eC=s(1692),ek=s(715),ez=s(6283);let eS=({searchQuery:e,onSearchChange:t,totalFolders:s,totalPrompts:a})=>(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(h.Z,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),r.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Buscar na hierarquia...",className:"w-full h-10 bg-[#0f111a] border border-white/10 rounded-lg pl-10 pr-4 text-sm text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all placeholder-gray-600"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[r.jsx(ex.Z,{size:12}),(0,r.jsxs)("span",{children:[s," pastas"]})]}),r.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-600"}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[r.jsx(ez.Z,{size:12}),(0,r.jsxs)("span",{children:[a," prompts"]})]}),e&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-600"}),(0,r.jsxs)("span",{className:"text-[#2979ff]",children:['Filtrando por "',e,'"']})]})]})]}),eZ=({node:e,level:t=0,onSelect:s,onEdit:i,onDelete:l,onContextMenu:n,isLocked:o,selectedPromptId:d,searchQuery:c,expandedIds:m,onToggleExpand:u})=>{let h="folder"===e.type,p=h&&e.children?.length>0,g=m.has(e.id),f="prompt"===e.type&&d===e.id,b=!c||e.name.toLowerCase().includes(c.toLowerCase())||"prompt"===e.type&&(e.content?.toLowerCase().includes(c.toLowerCase())||e.tags?.some(e=>e.toLowerCase().includes(c.toLowerCase()))),j=(0,a.useCallback)(()=>{if(!h||!c)return!1;let t=e=>{for(let s of e)if(s.name.toLowerCase().includes(c.toLowerCase())||"folder"===s.type&&s.children&&t(s.children))return!0;return!1};return t(e.children||[])},[h,e,c]);if(c&&!b&&!j())return null;let v=t=>{t.stopPropagation(),h?u(e.id):s(e)},w=h&&e.children?.length||0;return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{onClick:v,onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),v(t)),"ArrowRight"===t.key&&h&&!g&&u(e.id),"ArrowLeft"===t.key&&h&&g&&u(e.id)},onContextMenu:t=>n(t,e),tabIndex:0,role:"button","aria-label":`${h?"Pasta":"Prompt"}: ${e.name}`,"aria-expanded":h?g:void 0,style:{paddingLeft:`${24*t+8}px`},className:`
          group flex items-center justify-between transition-all duration-150 
          cursor-pointer text-gray-300 border-l-[3px] my-0.5 rounded-r-md py-2
          ${f?"bg-gradient-to-r from-[#2979ff]/10 to-transparent border-l-[#2979ff] text-white":"border-l-transparent hover:bg-gradient-to-r hover:from-white/5 hover:to-transparent hover:border-l-white/20"}
          ${b&&c?"bg-[#2979ff]/5":""}
        `,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[p?r.jsx("button",{onClick:t=>{t.stopPropagation(),u(e.id)},className:"p-0.5 hover:bg-white/10 rounded transition-colors",children:r.jsx(ea.Z,{size:14,className:`text-gray-400 transition-transform duration-200 ease-out ${g?"rotate-90":""}`})}):r.jsx("div",{className:"w-4"}),e.emoji?r.jsx("span",{className:"text-base leading-none w-5 text-center shrink-0",children:e.emoji}):h?e.isSystem?r.jsx(x.Z,{size:16,className:"text-gray-300 shrink-0"}):g?r.jsx(er.Z,{size:16,className:"text-[#2979ff] shrink-0"}):r.jsx(ex.Z,{size:16,className:"text-gray-400 shrink-0"}):r.jsx(ez.Z,{size:14,className:"text-gray-400 shrink-0"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[r.jsx("span",{className:`
                truncate
                ${h?"font-medium text-sm":"text-[13px] font-normal text-gray-300 group-hover:text-gray-200"}
              `,children:e.name}),h&&w>0&&r.jsx("span",{className:"text-[10px] text-gray-500 bg-white/5 px-1.5 py-0.5 rounded",children:w}),h&&e.isSystem&&r.jsx("span",{className:"text-[9px] uppercase font-bold px-1.5 py-0.5 rounded bg-purple-500/10 text-purple-400 border border-purple-500/20",children:"SYS"}),!h&&e.tags&&e.tags.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[e.tags.slice(0,2).map(e=>r.jsx("span",{className:"text-[9px] uppercase tracking-[0.5px] text-gray-400 border border-white/10 px-1 rounded",children:e},e)),e.tags.length>2&&(0,r.jsxs)("span",{className:"text-[9px] text-gray-500",children:["+",e.tags.length-2]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 mr-2",children:[r.jsx("button",{onClick:t=>{t.stopPropagation(),i(e)},className:"p-1 text-gray-500 hover:text-white hover:bg-white/10 rounded transition-colors",title:"Editar",children:r.jsx(ee.Z,{size:12})}),!o&&r.jsx("button",{onClick:t=>{t.stopPropagation(),l(e)},className:"p-1 text-gray-500 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Excluir",children:r.jsx(_.Z,{size:12})})]})]}),p&&r.jsx(ei,{isExpanded:g,children:e.children.map(e=>r.jsx(eZ,{node:e,level:t+1,onSelect:s,onEdit:i,onDelete:l,onContextMenu:n,isLocked:o,selectedPromptId:d,searchQuery:c,expandedIds:m,onToggleExpand:u},e.id))})]})},eE=()=>{let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(""),[l,n]=(0,a.useState)(new Set(["f1","f1-1"])),d=M(e=>e.data),c=M(e=>e.selectedPrompt),x=M(e=>e.isLocked),{setSelectedPrompt:m,setPromptViewerOpen:u,openEditModal:h,showToast:p}=M(e=>e.actions),{contextMenu:g,openContextMenu:f,closeContextMenu:b}=eb(),j=(0,a.useCallback)(e=>{n(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},[]),v=e=>{m(e),u(!0)},w=e=>{h(e,"prompt"===e.type)},N=e=>{if(x){p("Desbloqueie para excluir","warning");return}p(`Excluir "${e.name}"?`,"warning")},D=e=>{let t=0,s=0;for(let r of e)if("folder"===r.type){if(t++,r.children){let e=D(r.children);t+=e.folders,s+=e.prompts}}else s++;return{folders:t,prompts:s}},{folders:C,prompts:k}=D(d);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:`
          flex flex-col overflow-hidden transition-all duration-300
          ${e?"fixed inset-0 z-50 bg-[#0f111a]":"h-full"}
        `,children:[r.jsx("div",{className:"p-6 pb-4 shrink-0",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx(o.Z,{size:24,className:"text-[#2979ff]"}),"Estrutura Hier\xe1rquica"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(y,{content:"Expandir Todos",position:"bottom",children:r.jsx("button",{onClick:()=>{let e=new Set,t=s=>{for(let r of s)"folder"===r.type&&(e.add(r.id),r.children&&t(r.children))};t(d),n(e)},className:"p-2 bg-[#1e2330] hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors",children:r.jsx(H.Z,{size:16})})}),r.jsx(y,{content:"Recolher Todos",position:"bottom",children:r.jsx("button",{onClick:()=>{n(new Set)},className:"p-2 bg-[#1e2330] hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors",children:r.jsx(eC.Z,{size:16})})}),r.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),r.jsx(y,{content:e?"Sair Tela Cheia":"Tela Cheia",position:"bottom",children:r.jsx("button",{onClick:()=>t(!e),className:"p-2 bg-[#1e2330] hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors",children:e?r.jsx(eC.Z,{size:16}):r.jsx(ek.Z,{size:16})})})]})]}),r.jsx(eS,{searchQuery:s,onSearchChange:i,totalFolders:C,totalPrompts:k})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 pb-6",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"bg-[#1e2330] rounded-xl border border-white/10 p-6 shadow-2xl min-h-[400px]",children:0===d.length?(0,r.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 py-20",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:r.jsx(ex.Z,{size:32,className:"opacity-40"})}),r.jsx("p",{className:"text-sm font-bold text-gray-300",children:"Nenhum conte\xfado"}),r.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Comece criando uma pasta"})]}):d.map(e=>r.jsx(eZ,{node:e,onSelect:v,onEdit:w,onDelete:N,onContextMenu:f,isLocked:x,selectedPromptId:c?.id,searchQuery:s,expandedIds:l,onToggleExpand:j},e.id))})})})]}),g&&r.jsx(ef,{x:g.x,y:g.y,item:g.item,onClose:b,onEdit:w,onDelete:N})]})},eI=({item:e,index:t})=>{let{showToast:s}=M(e=>e.actions);return(0,r.jsxs)("div",{className:"bg-[#1e2330] border border-white/5 hover:border-[#5b4eff]/50 rounded-xl p-5 transition-all hover:shadow-xl group animate-slide-up-fade",style:{animationDelay:`${100*t}ms`},children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`
              w-10 h-10 rounded-full ${e.owner.color} 
              flex items-center justify-center text-white font-bold text-xs 
              shadow-lg ring-2 ring-[#0f111a]
            `,children:e.owner.initials}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:["De: ",r.jsx("span",{className:"text-white font-medium",children:e.owner.name})]}),r.jsx("p",{className:"text-[10px] text-gray-500",children:e.date})]})]}),r.jsx("span",{className:"text-[10px] font-bold uppercase bg-[#5b4eff]/10 text-[#5b4eff] px-2 py-1 rounded border border-[#5b4eff]/20",children:e.permission})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("span",{className:"text-2xl",children:e.emoji}),r.jsx("h3",{className:"text-white font-bold text-lg truncate",children:e.name})]}),"prompt"===e.type&&e.content&&r.jsx("p",{className:"text-xs text-gray-400 line-clamp-2 mb-4 bg-[#0f111a] p-2 rounded border border-white/5 font-mono",children:e.content}),"folder"===e.type&&e.itemsCount&&(0,r.jsxs)("p",{className:"text-xs text-gray-400 mb-4",children:[e.itemsCount," itens compartilhados"]}),(0,r.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-white/5",children:[r.jsx("button",{onClick:()=>s(`Abrindo "${e.name}"...`,"info"),className:"flex-1 py-2 bg-[#5b4eff] hover:bg-[#4a3ecc] text-white text-xs font-bold rounded-lg transition-colors shadow-lg shadow-indigo-900/20",children:"Abrir"}),r.jsx("button",{onClick:()=>s("Compartilhando...","info"),className:"px-3 py-2 bg-[#1e2330] hover:bg-white/5 text-gray-300 rounded-lg border border-white/10 transition-colors",children:r.jsx(U.Z,{size:14})})]})]})},eP=()=>{let e=M(e=>e.sharedData),t=e.length>0?e:[{id:"s1",name:"Design Assets Q3",type:"folder",emoji:"\uD83C\uDFA8",owner:{name:"Ana Silva",initials:"AS",color:"bg-purple-500"},permission:"view",date:"2h atr\xe1s",itemsCount:15,isShared:!0},{id:"s2",name:"Relat\xf3rio Financeiro",type:"prompt",emoji:"\uD83D\uDCCA",owner:{name:"Carlos Mendes",initials:"CM",color:"bg-emerald-500"},permission:"view",date:"Ontem",content:"An\xe1lise completa do Q3 com proje\xe7\xf5es para o pr\xf3ximo trimestre...",isShared:!0},{id:"s3",name:"Prompts de Marketing",type:"folder",emoji:"\uD83D\uDE80",owner:{name:"Maria Costa",initials:"MC",color:"bg-pink-500"},permission:"edit",date:"H\xe1 3 dias",itemsCount:8,isShared:!0}];return(0,r.jsxs)("div",{className:"p-8 max-w-6xl mx-auto animate-in fade-in duration-500",children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[r.jsx(p.Z,{size:28,className:"text-[#5b4eff]"}),"Compartilhados Comigo"]}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Arquivos recebidos da equipe."})]})}),0===t.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 border-2 border-dashed border-white/5 rounded-xl bg-white/[0.02]",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:r.jsx(p.Z,{size:32,className:"opacity-40"})}),r.jsx("p",{className:"text-sm font-bold text-gray-300",children:"Nenhum arquivo compartilhado"}),r.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Pe\xe7a aos colegas para compartilhar com voc\xea"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((e,t)=>r.jsx(eI,{item:e,index:t},e.id))})]})};var e$=s(6517),eL=s(4019),eT=s(8393),eM=s(8705),eA=s(2933);let eq={Essenciais:["\uD83D\uDCC1","\uD83D\uDCC2","\uD83D\uDDC2️","\uD83D\uDDC3️","\uD83D\uDCC4","\uD83D\uDCDD","\uD83D\uDCD1","\uD83D\uDCCA"],"Tech & Dev":["\uD83D\uDCBB","\uD83D\uDDA5️","⌨️","\uD83D\uDCBE","\uD83E\uDD16","⚙️","\uD83D\uDD27","\uD83D\uDC1B"],Status:["\uD83D\uDE80","\uD83C\uDFAF","\uD83D\uDD25","\uD83D\uDCA1","✅","\uD83D\uDEA7","\uD83D\uDD12","\uD83D\uDEA9"],Design:["\uD83C\uDFA8","\uD83D\uDD8C️","✒️","\uD83C\uDFAD","\uD83C\uDF08","\uD83D\uDC8E","\uD83D\uDCF8","\uD83D\uDD0D"],Social:["\uD83D\uDC4B","\uD83D\uDC65","\uD83D\uDDE3️","\uD83D\uDCAC","❤️","⭐","\uD83C\uDF89","\uD83E\uDD1D"],Negócios:["\uD83D\uDCBC","\uD83D\uDCC8","\uD83D\uDCC9","\uD83D\uDCB0","\uD83C\uDFC6","\uD83D\uDCE3","\uD83C\uDFAA","\uD83D\uDEE1️"],Tempo:["⏰","\uD83D\uDCC5","\uD83D\uDDD3️","⏳","\uD83C\uDF05","\uD83C\uDF19","☀️","\uD83C\uDF1F"]},eF=({onSelect:e,selectedEmoji:t,className:s=""})=>r.jsx("div",{className:`
        bg-[#13161c] border border-white/5 rounded-lg p-3 
        max-h-48 overflow-y-auto shadow-xl custom-scrollbar
        ${s}
      `,children:Object.entries(eq).map(([s,a])=>(0,r.jsxs)("div",{className:"mb-3 last:mb-0",children:[r.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 sticky top-0 bg-[#13161c] py-1 z-10",children:s}),r.jsx("div",{className:"grid grid-cols-8 gap-1",children:a.map(s=>r.jsx("button",{type:"button",onClick:()=>e(s),className:`
                  w-8 h-8 flex items-center justify-center rounded text-lg 
                  hover:bg-white/10 transition-colors
                  ${t===s?"bg-[#2979ff]/20 ring-1 ring-[#2979ff]":""}
                `,children:s},s))})]},s))}),eO=({emoji:e,onOpenPicker:t,className:s=""})=>(0,r.jsxs)("button",{type:"button",onClick:t,className:`
        w-14 h-14 bg-[#0f111a] border border-white/10 rounded-xl 
        text-2xl flex items-center justify-center 
        hover:border-[#2979ff] hover:bg-[#2979ff]/5 
        transition-all relative group
        ${s}
      `,children:[e,r.jsx("div",{className:"absolute -bottom-1.5 -right-1.5 bg-[#2979ff] text-white p-1 rounded-full opacity-60 group-hover:opacity-100 transition-opacity shadow-sm",children:(0,r.jsxs)("svg",{width:"8",height:"8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[r.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]}),eR=e=>{let[t,s]=(0,a.useState)(null);return{handleMouseDown:e=>{e.target===e.currentTarget&&s({x:e.clientX,y:e.clientY})},handleMouseUp:r=>{if(t)5>Math.sqrt(Math.abs(r.clientX-t.x)**2+Math.abs(r.clientY-t.y)**2)&&e(),s(null)}}},eB=()=>{let{isOpen:e,item:t,isFullEdit:s,isImport:i}=M(e=>e.editModal),l=M(e=>e.data),{closeEditModal:n,updateItem:o,importPackage:d,showToast:c,moveItem:x}=M(e=>e.actions),[m,u]=(0,a.useState)(""),[h,p]=(0,a.useState)("\uD83D\uDCC4"),[g,f]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),[D,C]=(0,a.useState)(!1),k=(0,a.useRef)(null),{handleMouseDown:z,handleMouseUp:S}=eR(n);if((0,a.useEffect)(()=>{e&&t&&(u(t.name),p(t.emoji||"\uD83D\uDCC4"),N(""),C(!1),"prompt"===t.type&&(f(t.content||""),j(t.category||""),w(t.tags?.join(", ")||"")))},[e,t]),(0,a.useEffect)(()=>{if(!e)return;let t=e=>{if("Escape"===e.key&&n(),"Tab"===e.key&&k.current){let t=k.current.querySelectorAll('button, input, select, textarea, [tabindex]:not([tabindex="-1"])');if(0===t.length)return;let s=t[0],r=t[t.length-1];e.shiftKey&&document.activeElement===s?(e.preventDefault(),r?.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),s?.focus())}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,n]),!e||!t)return null;let Z="prompt"===t.type,E="folder"===t.type?"Pasta":"Prompt",I=(e=>{let s=[],r=e=>{for(let a of e)"folder"===a.type&&a.id!==t.id&&(s.push(a),a.children&&r(a.children))};return r(e),s})(l),P=()=>{if(!m.trim()){c("Nome \xe9 obrigat\xf3rio","error");return}if(i){let e=y||null;d({...t,name:m.trim(),emoji:h},e),n();return}let e={name:m.trim(),emoji:h};if(Z&&Object.assign(e,{content:g,category:b,tags:v.split(",").map(e=>e.trim()).filter(Boolean)}),o(t.id,e),y&&""!==y){let e="root"===y?null:y;x(t.id,e)}c("Atualizado com sucesso!","success"),n()},$=(e,t=0)=>{if(!e||0===e.length)return null;let s=0===t?5:3;return(0,r.jsxs)("ul",{className:`mt-1 space-y-1 ${t>0?"ml-3 border-l border-white/10 pl-2":""}`,children:[e.slice(0,s).map(e=>(0,r.jsxs)("li",{className:"flex items-center gap-2 text-[11px] text-gray-300",children:[r.jsx("span",{children:"folder"===e.type?"\uD83D\uDCC1":"\uD83D\uDCC4"}),r.jsx("span",{className:"truncate",children:e.name}),"folder"===e.type&&e.children?.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"text-[9px] bg-white/5 px-1 rounded",children:[e.children.length," itens"]}),$(e.children,t+1)]})]},e.id)),e.length>s&&(0,r.jsxs)("li",{className:"text-[10px] text-gray-400 italic pl-4",children:["... e mais ",e.length-s," itens"]})]})};return r.jsx(eo,{onMouseDown:z,onMouseUp:S,children:r.jsx(en,{children:(0,r.jsxs)("div",{ref:k,onClick:e=>e.stopPropagation(),className:`
            bg-[#1e2330] rounded-xl border border-white/10 shadow-2xl w-full p-0 
            flex flex-col max-h-[90vh]
            ${(s||i)&&Z?"max-w-2xl":"max-w-md"}
            ${i?"ring-2 ring-emerald-500/50":""}
          `,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/5 shrink-0 bg-[#1e2330] rounded-t-xl",children:[(0,r.jsxs)("h3",{className:"text-base font-bold text-white flex items-center gap-2",children:[i&&r.jsx(e$.Z,{size:16,className:"text-emerald-400"}),i?"Receber Transfer\xeancia":`Editar ${E}`]}),r.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors p-1 rounded hover:bg-white/5",children:r.jsx(eL.Z,{size:16})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5",children:[(0,r.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400",children:"\xcdcone"}),r.jsx(eO,{emoji:h,onOpenPicker:()=>C(!D)})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Nome"}),r.jsx("input",{type:"text",value:m,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"!==e.key||s||i||P()},placeholder:`Nome da ${E}`,className:"w-full h-9 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-sm text-gray-200 focus:outline-none focus:border-[#2979ff] transition-all placeholder-gray-600",autoFocus:!0})]}),(0,r.jsxs)("details",{className:"group",open:i,children:[r.jsx("summary",{className:"cursor-pointer p-3 bg-[#0f111a]/30 hover:bg-[#0f111a]/50 rounded-lg border border-white/10 transition-all list-none",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(ea.Z,{size:14,className:"text-gray-500 group-open:rotate-90 transition-transform"}),r.jsx(er.Z,{size:14,className:"text-gray-500"}),r.jsx("span",{className:"text-xs uppercase font-bold text-gray-400 tracking-wider",children:i?"Destino da Importa\xe7\xe3o":"Mover para Pasta (Opcional)"})]}),r.jsx("span",{className:"text-[10px] text-gray-600 group-open:hidden",children:y?"1 pasta selecionada":"Clique para expandir"})]})}),(0,r.jsxs)("div",{className:"mt-2 p-3 bg-[#0f111a]/20 rounded-lg border border-white/5",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Localiza\xe7\xe3o"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:y,onChange:e=>N(e.target.value),className:`
                          w-full h-9 bg-[#0f111a] border rounded-lg px-3 text-xs text-gray-200 
                          focus:outline-none focus:border-[#2979ff] appearance-none cursor-pointer transition-all
                          ${i?"border-emerald-500/30":"border-white/10"}
                        `,children:[r.jsx("option",{value:"",children:i?"\uD83D\uDCC2 Raiz (Padr\xe3o)":"\uD83D\uDCCD Manter atual"}),!i&&r.jsx("option",{value:"root",children:"\uD83D\uDCC2 Mover para Raiz"}),I.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.emoji," ",e.name]},e.id))]}),r.jsx(eT.Z,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]})]})]}),D&&r.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200 mb-4 p-2 bg-[#0f111a] rounded-lg border border-white/5",children:r.jsx(eF,{onSelect:e=>{p(e),C(!1)},selectedEmoji:h})}),i&&"folder"===t.type&&t.children&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-emerald-500/5 border border-emerald-500/20 rounded-lg animate-in fade-in duration-300",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-emerald-400",children:[r.jsx(eM.Z,{size:14}),r.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Conte\xfado"})]}),r.jsx("div",{className:"bg-[#0f111a]/50 rounded-lg p-2 border border-white/5 max-h-32 overflow-y-auto custom-scrollbar",children:$(t.children)})]}),(s&&Z||i&&Z&&!t.children)&&(0,r.jsxs)("div",{className:"space-y-4 pt-4 border-t border-white/5 animate-in slide-in-from-top-2 duration-300",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Categoria"}),r.jsx("input",{type:"text",value:b,onChange:e=>j(e.target.value),placeholder:"Ex: System...",className:"w-full h-9 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-xs text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Tags"}),r.jsx("input",{type:"text",value:v,onChange:e=>w(e.target.value),placeholder:"Ex: dev, react",className:"w-full h-9 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-xs text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Conte\xfado do Prompt"}),r.jsx("textarea",{value:g,onChange:e=>f(e.target.value),placeholder:"Digite o prompt aqui...",className:"w-full h-48 bg-[#0f111a] border border-white/10 rounded-lg p-3 text-xs text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all font-mono leading-relaxed resize-none custom-scrollbar"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 px-5 py-4 border-t border-white/5 bg-[#1e2330] rounded-b-xl shrink-0",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-medium rounded-lg text-gray-300 border border-white/10 hover:bg-white/10 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:P,disabled:!m.trim(),className:`
                px-5 py-2 text-xs font-bold rounded-lg text-white transition-all shadow-lg 
                disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2
                ${i?"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-900/20":"bg-[#2979ff] hover:bg-[#2264d1] shadow-blue-900/20"}
              `,children:i?(0,r.jsxs)(r.Fragment,{children:[r.jsx(e$.Z,{size:14})," Importar"]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(eA.Z,{size:14})," Salvar"]})})]})]})})})},eK=e=>{let[t,s]=(0,a.useState)(null);return{handleMouseDown:e=>{e.target===e.currentTarget&&s({x:e.clientX,y:e.clientY})},handleMouseUp:r=>{if(t)5>Math.sqrt(Math.abs(r.clientX-t.x)**2+Math.abs(r.clientY-t.y)**2)&&e(),s(null)}}},eU=()=>{let e=M(e=>e.isPromptViewerOpen),t=M(e=>e.selectedPrompt),{setPromptViewerOpen:s,openEditModal:i}=M(e=>e.actions),[l,n]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),{handleMouseDown:c,handleMouseUp:x}=eK(()=>s(!1));return e&&t?r.jsx(eo,{className:"backdrop-blur-sm bg-black/80",onMouseDown:c,onMouseUp:x,children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:`
          bg-[#1e2330] rounded-xl border border-white/10 shadow-2xl w-full 
          flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300 transition-all
          ${o?"max-w-5xl h-[85vh] border-[#2979ff]/30 shadow-[0_0_50px_rgba(0,0,0,0.5)]":"max-w-3xl"}
        `,children:[(0,r.jsxs)("div",{className:`
            flex items-center justify-between p-5 border-b border-white/5 shrink-0 
            transition-opacity duration-300
            ${o?"opacity-40 hover:opacity-100":"opacity-100"}
          `,children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[#2979ff]/20 to-purple-500/20 flex items-center justify-center text-2xl",children:t.emoji||"\uD83D\uDCC4"}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-white",children:t.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsx("span",{className:"bg-white/5 px-1.5 py-0.5 rounded border border-white/5",children:t.category||"Geral"}),r.jsx("span",{children:"•"}),r.jsx("span",{children:t.date})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>d(!o),className:`
                p-2 rounded-lg transition-colors
                ${o?"bg-[#2979ff] text-white shadow-lg shadow-blue-500/30":"text-gray-400 hover:bg-white/10 hover:text-white"}
              `,title:o?"Sair do Modo Foco":"Modo Foco",children:o?r.jsx(eC.Z,{size:18}):r.jsx(ek.Z,{size:18})}),!o&&r.jsx("button",{onClick:()=>{s(!1),i(t,!0)},className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors",title:"Editar",children:r.jsx(ee.Z,{size:18})}),r.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors",children:r.jsx(eL.Z,{size:20})})]})]}),r.jsx("div",{className:`
            flex-1 overflow-y-auto custom-scrollbar bg-[#0f111a]/30 
            transition-all duration-500
            ${o?"p-10":"p-6"}
          `,children:r.jsx("div",{className:`
              prose prose-invert max-w-none mx-auto transition-all duration-500
              ${o?"max-w-4xl":""}
            `,children:r.jsx("div",{className:`
                bg-[#0f111a] border border-white/5 rounded-lg font-mono leading-relaxed 
                text-gray-300 whitespace-pre-wrap shadow-inner transition-all duration-500
                ${o?"p-10 text-lg border-none bg-transparent shadow-none":"p-6 text-sm"}
              `,children:t.content})})}),(0,r.jsxs)("div",{className:`
            p-5 border-t border-white/5 bg-[#13161c] flex justify-between items-center shrink-0 
            transition-opacity duration-300
            ${o?"opacity-20 hover:opacity-100":"opacity-100"}
          `,children:[r.jsx("div",{className:"flex gap-2",children:t.tags?.map(e=>r.jsx("span",{className:"text-[10px] uppercase font-bold px-2 py-1 rounded bg-white/5 text-gray-400 border border-white/5",children:e},e))}),(0,r.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(t.content||""),n(!0),setTimeout(()=>n(!1),2e3)},className:`
              px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition-all
              ${l?"bg-green-500 text-white":"bg-[#2979ff] hover:bg-[#2264d1] text-white"}
            `,children:[l?r.jsx(ey.Z,{size:16}):r.jsx(ep.Z,{size:16}),l?"Copiado!":"Copiar Prompt"]})]})]})}):null};var eV=s(1896);let e_=[{id:"sequential",label:"Sequencial",icon:l.Z},{id:"miller",label:"Miller Columns",icon:n.Z},{id:"mindmap",label:"Hierarquia",icon:o.Z}],eH=()=>{let e=M(e=>e.isSettingsOpen),t=M(e=>e.currentUser),s=M(e=>e.preferences),{setSettingsOpen:i,updatePreferences:l,setCurrentUser:n,showToast:o}=M(e=>e.actions),[d,c]=(0,a.useState)("sequential"),[m,u]=(0,a.useState)(null),h=(0,a.useRef)(null);return((0,a.useEffect)(()=>{e&&(c(s.defaultView||"sequential"),u(t.avatar||null))},[e,s,t]),e)?r.jsx(eo,{onClick:()=>i(!1),children:r.jsx(en,{children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-[#1e2330] rounded-xl border border-white/10 shadow-2xl w-full max-w-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-white/5 flex justify-between items-center",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[r.jsx(x.Z,{size:20,className:"text-[#2979ff]"}),"Configura\xe7\xf5es"]}),r.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(eL.Z,{size:20})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-white/5 pb-2",children:"Perfil"}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)("div",{className:"relative group",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[#2a3040] to-[#1e2330] border-2 border-white/10 flex items-center justify-center overflow-hidden shadow-2xl transition-transform hover:scale-105",children:m?r.jsx("img",{src:m,alt:"Profile",className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-2xl font-bold text-indigo-400",children:(e=>{let t=e.replace(/[^a-zA-Z\s]/g,"").trim().split(/\s+/);return 0===t.length?"??":1===t.length?t[0].substring(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()})(t.name)})}),r.jsx("button",{onClick:()=>h.current?.click(),className:"absolute bottom-0 right-0 p-1.5 bg-[#2979ff] text-white rounded-full shadow-lg hover:bg-[#2264d1] transition-all hover:scale-110 border border-[#1e2330]",title:"Alterar Foto",children:r.jsx(eV.Z,{size:14})}),r.jsx("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>u(e.result),e.readAsDataURL(t)}}})]}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-medium mb-1",children:"Sua Foto"}),r.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:"Personalize como voc\xea aparece para sua equipe."})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-white/5 pb-2",children:"Experi\xeancia"}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300 block",children:"Visualiza\xe7\xe3o Inicial"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:e_.map(e=>(0,r.jsxs)("button",{onClick:()=>c(e.id),className:`
                        flex flex-col items-center justify-center gap-2 p-3 rounded-lg border 
                        transition-all duration-200 relative
                        ${d===e.id?"bg-[#2979ff]/10 border-[#2979ff] text-[#2979ff] shadow-[0_0_15px_rgba(41,121,255,0.15)] scale-[1.02]":"bg-[#0f111a] border-white/5 text-gray-300 hover:border-white/20 hover:text-gray-200"}
                      `,children:[r.jsx(e.icon,{size:20}),r.jsx("span",{className:"text-xs font-medium",children:e.label}),d===e.id&&r.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-[#2979ff] rounded-full shadow-[0_0_5px_#2979ff]"})]},e.id))})]})]})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-white/5 bg-[#13161c] flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancelar"}),(0,r.jsxs)("button",{onClick:()=>{l({defaultView:d}),n({...t,avatar:m}),o("Prefer\xeancias salvas","success"),i(!1)},className:"px-6 py-2 text-sm font-bold bg-[#2979ff] hover:bg-[#2264d1] text-white rounded-lg shadow-lg shadow-blue-900/20 transition-all hover:scale-105 active:scale-95 flex items-center gap-2",children:[r.jsx(eA.Z,{size:16})," Salvar"]})]})]})})}):null};var eJ=s(1291);let eQ=({notification:e,onClick:t})=>r.jsx("div",{onClick:t,className:`
        p-4 border-l-4 ${(()=>{switch(e.type){case"transfer":return"border-l-emerald-500";case"share":return"border-l-[#5b4eff]";case"warning":return"border-l-yellow-500";default:return"border-l-gray-500"}})()} rounded-r-lg cursor-pointer
        transition-all hover:bg-white/5
        ${e.read?"opacity-60":"bg-white/[0.02]"}
      `,children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center shrink-0",children:(()=>{switch(e.type){case"transfer":return r.jsx(e$.Z,{size:16,className:"text-emerald-400"});case"share":return r.jsx(U.Z,{size:16,className:"text-[#5b4eff]"});case"warning":return r.jsx(eJ.Z,{size:16,className:"text-yellow-400"});default:return r.jsx(c.Z,{size:16,className:"text-gray-400"})}})()}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("h4",{className:`text-sm font-bold truncate ${e.read?"text-gray-400":"text-white"}`,children:e.title}),!e.read&&r.jsx("span",{className:"w-2 h-2 rounded-full bg-[#2979ff] shrink-0"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:e.description}),r.jsx("span",{className:"text-[10px] text-gray-500 mt-2 block",children:e.time})]})]})}),eG=()=>{let e=M(e=>e.isNotificationsOpen),t=M(e=>e.notifications),{setNotificationsOpen:s,markNotificationRead:a,markAllNotificationsRead:i,openEditModal:l}=M(e=>e.actions);if(!e)return null;let n=t.filter(e=>!e.read).length,o=e=>{a(e.id),"transfer"===e.type&&e.payload&&(s(!1),l(e.payload,!1,!0))};return r.jsx(eo,{onClick:()=>s(!1),children:r.jsx(en,{children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-[#1e2330] rounded-xl border border-white/10 shadow-2xl w-full max-w-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-white/5 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[r.jsx(c.Z,{size:18,className:"text-[#2979ff]"}),"Notifica\xe7\xf5es"]}),n>0&&(0,r.jsxs)("span",{className:"bg-[#2979ff] text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:[n," novas"]})]}),r.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(eL.Z,{size:20})})]}),r.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:0===t.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mx-auto mb-4",children:r.jsx(ey.Z,{size:32,className:"text-gray-500 opacity-40"})}),r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Tudo em dia!"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nenhuma notifica\xe7\xe3o pendente"})]}):r.jsx("div",{className:"divide-y divide-white/5",children:t.map(e=>r.jsx(eQ,{notification:e,onClick:()=>o(e)},e.id))})}),t.length>0&&r.jsx("div",{className:"p-4 border-t border-white/5 flex justify-end",children:r.jsx("button",{onClick:i,className:"text-xs font-medium text-[#2979ff] hover:text-blue-400 transition-colors",children:"Marcar todas como lidas"})})]})})})};var eX=s(4689);let eY=()=>{let e=M(e=>e.isMasterLoginOpen),t=M(e=>e.generatedKeys),s=M(e=>e.masterKey);M(e=>e.currentUser);let{setMasterLoginOpen:i,generateKey:l,revokeKey:n,login:o,logout:c,showToast:x}=M(e=>e.actions),[u,h]=(0,a.useState)("generator"),[g,f]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),D=(0,a.useRef)(null);if((0,a.useEffect)(()=>{e||(f(""),j(""),w(""),N(""),h("generator"))},[e]),(0,a.useEffect)(()=>{if(!e)return;let t=e=>{"Escape"===e.key&&i(!1)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,i]),!e)return null;let C=e=>{navigator.clipboard.writeText(e),x("Chave copiada!","info")},k=e=>`
    px-4 py-2 text-sm font-medium transition-all
    ${u===e?"text-red-400 border-b-2 border-red-500":"text-gray-400 hover:text-gray-300"}
  `;return r.jsx(eo,{onClick:()=>i(!1),children:r.jsx(en,{children:(0,r.jsxs)("div",{ref:D,onClick:e=>e.stopPropagation(),className:"bg-[#1e2330] rounded-xl border border-white/10 shadow-2xl w-full max-w-2xl flex flex-col max-h-[90vh]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 shrink-0",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[r.jsx(d.Z,{size:20,className:"text-red-400"}),"Master Access Panel"]}),r.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white transition-colors p-1",children:r.jsx(eL.Z,{size:20})})]}),(0,r.jsxs)("div",{className:"flex border-b border-white/10 px-6 shrink-0",children:[r.jsx("button",{onClick:()=>h("generator"),className:k("generator"),children:"Gerar Chaves"}),r.jsx("button",{onClick:()=>h("session"),className:k("session"),children:"Sess\xf5es & Revoga\xe7\xe3o"}),r.jsx("button",{onClick:()=>h("login"),className:k("login"),children:"Sess\xe3o de Auditoria"})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:["generator"===u&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"p-4 bg-[#252b3b]/50 rounded-lg border border-white/10 space-y-4",children:[(0,r.jsxs)("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:[r.jsx(H.Z,{size:16})," Gerar Nova Chave de Acesso"]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Nome do Novo Usu\xe1rio"}),r.jsx("input",{type:"text",value:g,onChange:e=>{f(e.target.value),N("")},placeholder:"Ex: Carlos",className:"w-full h-10 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-sm text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all placeholder-gray-600"})]}),(0,r.jsxs)("button",{onClick:()=>{if(!g.trim()){N("Nome de Usu\xe1rio \xe9 obrigat\xf3rio");return}l(g.trim()),f(""),N(""),h("session")},disabled:!g.trim(),className:"w-full px-6 py-2 text-sm font-bold bg-green-600 hover:bg-green-500 text-white rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(d.Z,{size:16})," Gerar Chave \xdanica"]})]}),(0,r.jsxs)("div",{className:"p-4 bg-[#252b3b]/50 rounded-lg border border-white/10",children:[(0,r.jsxs)("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:[r.jsx(p.Z,{size:16})," Chaves Ativas"]}),r.jsx("div",{className:"mt-4",children:0===t.filter(e=>e.active&&e.key!==s).length?r.jsx("p",{className:"text-xs text-gray-400",children:"Nenhuma chave de usu\xe1rio ativa."}):r.jsx("div",{className:"space-y-3",children:t.filter(e=>e.active&&e.key!==s).map(e=>(0,r.jsxs)("div",{className:"p-3 bg-[#0f111a] rounded-lg border border-white/5 flex items-center justify-between gap-3",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs font-semibold text-white truncate",children:e.userName}),(0,r.jsxs)("p",{className:"text-[10px] font-mono text-gray-300 mt-1 flex items-center gap-2",children:[e.key,r.jsx("button",{onClick:()=>C(e.key),className:"text-gray-400 hover:text-[#2979ff] transition-colors",title:"Copiar chave",children:r.jsx(ep.Z,{size:10})})]})]}),r.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 rounded-full bg-red-500/10 hover:bg-red-500/20 text-red-400 transition-colors shrink-0",title:"Revogar Chave",children:r.jsx(_.Z,{size:14})})]},e.id))})})]})]}),"session"===u&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-300",children:"Auditoria e controle de todas as chaves emitidas (incluindo revogadas)."}),r.jsx("div",{className:"space-y-3",children:t.map(e=>r.jsx("div",{className:`
                        p-3 rounded-lg border
                        ${e.active?"bg-[#0f111a] border-green-500/30":"bg-[#0f111a]/50 border-white/5 opacity-60"}
                      `,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:`text-sm font-semibold truncate ${e.active?"text-white":"text-gray-400"}`,children:e.userName}),(0,r.jsxs)("p",{className:"text-[10px] font-mono text-gray-300 mt-1 flex items-center gap-2",children:[e.key,r.jsx("span",{className:`
                                text-[9px] font-bold px-1.5 py-0.5 rounded-full uppercase
                                ${e.active?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}
                              `,children:e.active?"ATIVO":"REVOGADO"})]})]}),r.jsx("button",{onClick:()=>n(e.id),disabled:!e.active||e.key===s,className:`
                            p-1.5 rounded-full transition-colors shrink-0
                            ${e.active&&e.key!==s?"bg-red-500/10 hover:bg-red-500/20 text-red-400":"bg-white/5 text-gray-400 cursor-not-allowed"}
                          `,title:e.key===s?"Chave Master n\xe3o pode ser revogada":e.active?"Revogar Chave":"Chave j\xe1 revogada",children:e.active?r.jsx(_.Z,{size:14}):r.jsx(eX.Z,{size:14})})]})},e.id))})]}),"login"===u&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Insira nome e chave para auditar/reparar sess\xe3o de usu\xe1rio."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Nome de Usu\xe1rio"}),r.jsx("input",{type:"text",value:b,onChange:e=>{j(e.target.value),N("")},placeholder:"Nome do usu\xe1rio",className:"w-full h-10 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-sm text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all placeholder-gray-600"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Chave de Acesso"}),r.jsx("input",{type:"password",value:v,onChange:e=>{w(e.target.value),N("")},placeholder:"Chave de Acesso",className:"w-full h-10 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-sm text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all placeholder-gray-600"})]})]}),y&&(0,r.jsxs)("div",{className:"mt-4 text-xs text-red-400 flex items-center gap-2 p-3 bg-red-500/10 rounded-lg",children:[r.jsx(eJ.Z,{size:14})," ",y]}),r.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t border-white/5 mt-6",children:(0,r.jsxs)("button",{onClick:()=>{if(!b.trim()||!v.trim()){N("Nome e Chave s\xe3o obrigat\xf3rios");return}if(v.trim()===s){c(),i(!1);return}if(!o(b.trim(),v.trim())){N("Chave ou Nome inv\xe1lidos/revogados");return}i(!1)},disabled:!b.trim()||!v.trim(),className:"px-6 py-2 text-sm font-bold bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r.jsx(m.Z,{size:16})," Iniciar Sess\xe3o"]})})]})]})]})})})},eW=()=>{let e=M(e=>e.moveSelector),{closeMoveSelector:t,moveItem:s,showToast:i}=M(e=>e.actions),[l,n]=(0,a.useState)(""),o=(0,a.useRef)(null);return((0,a.useEffect)(()=>{e.open&&n("")},[e.open]),(0,a.useEffect)(()=>{if(!e.open)return;let s=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e.open,t]),e.open&&e.draggedId)?r.jsx(eo,{onClick:t,children:r.jsx(en,{children:(0,r.jsxs)("div",{ref:o,onClick:e=>e.stopPropagation(),className:"bg-[#1e2330] rounded-xl border border-white/10 shadow-2xl w-full max-w-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"folder"===e.draggedType?"Mover Pasta e Conte\xfado":"Mover Prompt"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-1",children:r.jsx(eL.Z,{size:20})})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300 block mb-3",children:"Selecione o destino:"}),(0,r.jsxs)("div",{className:"max-h-80 overflow-y-auto custom-scrollbar border border-white/10 rounded-lg bg-[#0f111a] p-2",children:[r.jsx("div",{onClick:()=>n("root"),className:`
                  p-3 hover:bg-white/5 rounded cursor-pointer transition-colors
                  ${"root"===l?"bg-[#2979ff]/10":""}
                `,children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`
                      w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center
                      ${"root"===l?"ring-2 ring-[#2979ff]":""}
                    `,children:"\uD83D\uDCC1"}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:`font-medium ${"root"===l?"text-white":"text-gray-300"}`,children:"\uD83D\uDCC2 Raiz (Primeiro N\xedvel)"}),r.jsx("div",{className:"text-xs text-gray-400",children:"Mover para o n\xedvel superior"})]}),"root"===l&&r.jsx(eA.Z,{size:16,className:"text-[#2979ff] shrink-0"})]})}),r.jsx("div",{className:"h-px bg-white/10 my-2"}),e.availableTargets.map(e=>r.jsx("div",{onClick:()=>n(e.id),className:`
                    p-3 hover:bg-white/5 rounded cursor-pointer transition-colors
                    ${l===e.id?"bg-[#2979ff]/10":""}
                  `,children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`
                        w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center text-lg
                        ${l===e.id?"ring-2 ring-[#2979ff]":""}
                      `,children:e.emoji||"\uD83D\uDCC1"}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:`font-medium truncate ${l===e.id?"text-white":"text-gray-300"}`,children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:[e.children?.length||0," itens"]})]}),l===e.id&&r.jsx(eA.Z,{size:16,className:"text-[#2979ff] shrink-0"})]})},e.id)),0===e.availableTargets.length&&r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Nenhuma pasta dispon\xedvel como destino"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-white/5",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-300 border border-white/10 rounded-lg hover:bg-white/10 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:()=>{l&&e.draggedId&&(s(e.draggedId,"root"===l?null:l),i("Item movido com sucesso!","success")),t()},disabled:!l,className:"px-6 py-2 text-sm font-bold bg-[#2979ff] hover:bg-[#2264d1] text-white rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Movimento"})]})]})})}):null},e0=({isOpen:e,onClose:t,type:s,parentId:i=null})=>{let[l,n]=(0,a.useState)(""),[o,d]=(0,a.useState)("folder"===s?"\uD83D\uDCC1":"\uD83D\uDCC4"),[c,x]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[g,f]=(0,a.useState)(i),[b,j]=(0,a.useState)(!1),v=(0,a.useRef)(null),w=M(e=>e.data),{addItem:y,showToast:N}=M(e=>e.actions);if((0,a.useEffect)(()=>{e&&(n(""),d("folder"===s?"\uD83D\uDCC1":"\uD83D\uDCC4"),x(""),u(""),p(""),f(i),j(!1))},[e,s,i]),(0,a.useEffect)(()=>{if(!e)return;let s=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,t]),!e)return null;let D="folder"===s,C=D?"Pasta":"Prompt",k=(e=>{let t=[],s=e=>{for(let r of e)"folder"===r.type&&(t.push(r),r.children&&s(r.children))};return s(e),t})(w),z=()=>{if(!l.trim()){N("Nome \xe9 obrigat\xf3rio","error");return}let e=`${s}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=new Date().toLocaleDateString("pt-BR");D?(y({id:e,name:l.trim(),type:"folder",emoji:o,children:[]},g),N(`Pasta "${l}" criada!`,"success")):(y({id:e,name:l.trim(),type:"prompt",emoji:o,content:c.trim(),category:m.trim()||void 0,tags:h.split(",").map(e=>e.trim()).filter(Boolean),date:r},g),N(`Prompt "${l}" criado!`,"success")),t()};return r.jsx(eo,{onClick:t,children:r.jsx(en,{children:(0,r.jsxs)("div",{ref:v,onClick:e=>e.stopPropagation(),className:`
            bg-[#1e2330] rounded-xl border border-white/10 shadow-2xl w-full p-0 
            flex flex-col max-h-[90vh]
            ${D?"max-w-md":"max-w-2xl"}
          `,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/5 shrink-0 bg-[#1e2330] rounded-t-xl",children:[(0,r.jsxs)("h3",{className:"text-base font-bold text-white flex items-center gap-2",children:[D?r.jsx(O.Z,{size:18,className:"text-[#2979ff]"}):r.jsx(R.Z,{size:18,className:"text-[#2979ff]"}),"Criar ",C]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-1 rounded hover:bg-white/5",children:r.jsx(eL.Z,{size:16})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5",children:[(0,r.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400",children:"\xcdcone"}),r.jsx(eO,{emoji:o,onOpenPicker:()=>j(!b)})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Nome"}),r.jsx("input",{type:"text",value:l,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&D&&z()},placeholder:`Nome da ${C}`,className:"w-full h-9 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-sm text-gray-200 focus:outline-none focus:border-[#2979ff] transition-all placeholder-gray-600",autoFocus:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Localiza\xe7\xe3o"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:g||"",onChange:e=>f(e.target.value||null),className:"w-full h-9 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-xs text-gray-200 focus:outline-none focus:border-[#2979ff] appearance-none cursor-pointer transition-all",children:[r.jsx("option",{value:"",children:"\uD83D\uDCC2 Raiz (Primeiro N\xedvel)"}),k.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.emoji," ",e.name]},e.id))]}),r.jsx(eT.Z,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]})]}),b&&r.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200 mb-4 p-2 bg-[#0f111a] rounded-lg border border-white/5",children:r.jsx(eF,{onSelect:e=>{d(e),j(!1)},selectedEmoji:o})}),!D&&(0,r.jsxs)("div",{className:"space-y-4 pt-4 border-t border-white/5 animate-in slide-in-from-top-2 duration-300",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Categoria"}),r.jsx("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Ex: System, Marketing...",className:"w-full h-9 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-xs text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Tags"}),r.jsx("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Ex: dev, react, code",className:"w-full h-9 bg-[#0f111a] border border-white/10 rounded-lg px-3 text-xs text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Conte\xfado do Prompt"}),r.jsx("textarea",{value:c,onChange:e=>x(e.target.value),placeholder:"Digite o conte\xfado do prompt aqui...",className:"w-full h-48 bg-[#0f111a] border border-white/10 rounded-lg p-3 text-xs text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all font-mono leading-relaxed resize-none custom-scrollbar"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 px-5 py-4 border-t border-white/5 bg-[#1e2330] rounded-b-xl shrink-0",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-xs font-medium rounded-lg text-gray-300 border border-white/10 hover:bg-white/10 transition-colors",children:"Cancelar"}),(0,r.jsxs)("button",{onClick:z,disabled:!l.trim(),className:"px-5 py-2 text-xs font-bold rounded-lg text-white bg-[#2979ff] hover:bg-[#2264d1] transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r.jsx(eA.Z,{size:14}),"Criar ",C]})]})]})})})},e1=()=>{let[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)("folder"),[i,l]=(0,a.useState)(null);return{isOpen:e,type:s,parentId:i,openCreateModal:(e,s=null)=>{r(e),l(s),t(!0)},closeCreateModal:()=>{t(!1)}}};var e2=s(949);let e3=({isOpen:e,onClose:t,item:s,onConfirm:i})=>{let l=(0,a.useRef)(null),{deleteItem:n,showToast:o,clearSelection:d}=M(e=>e.actions);if((0,a.useEffect)(()=>{if(!e)return;let s=e=>{"Escape"===e.key&&t(),"Enter"===e.key&&p()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,s]),!e||!s)return null;let c="folder"===s.type,x=c&&s.children?.length||0,m=x>0,u=e=>{let t=e.children?.length||0;return e.children?.forEach(e=>{"folder"===e.type&&(t+=u(e))}),t},h=c?u(s):0,p=()=>{s&&(i?i(s):(n(s.id),d(),o(`${c?"Pasta":"Prompt"} "${s.name}" exclu\xeddo!`,"success")),t())};return r.jsx(eo,{onClick:t,children:r.jsx(en,{children:(0,r.jsxs)("div",{ref:l,onClick:e=>e.stopPropagation(),className:"bg-[#1e2330] rounded-xl border border-white/10 shadow-2xl w-full max-w-md p-0 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/5 shrink-0 bg-[#1e2330] rounded-t-xl",children:[(0,r.jsxs)("h3",{className:"text-base font-bold text-white flex items-center gap-2",children:[r.jsx(e2.Z,{size:18,className:"text-red-400"}),"Confirmar Exclus\xe3o"]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-1 rounded hover:bg-white/5",children:r.jsx(eL.Z,{size:16})})]}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-[#0f111a] rounded-xl border border-white/5 mb-4",children:[r.jsx("div",{className:`
                w-12 h-12 rounded-xl flex items-center justify-center text-2xl
                ${c?"bg-[#2979ff]/10":"bg-emerald-500/10"}
              `,children:s.emoji||(c?"\uD83D\uDCC1":"\uD83D\uDCC4")}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-sm font-bold text-white truncate",children:s.name}),r.jsx("div",{className:"flex items-center gap-2 text-[10px] text-gray-400 mt-1",children:c?(0,r.jsxs)(r.Fragment,{children:[r.jsx(ex.Z,{size:12}),r.jsx("span",{children:"Pasta"}),m&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:[x," itens diretos"]})]})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(ez.Z,{size:12}),r.jsx("span",{children:"Prompt"}),s.category&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{children:"•"}),r.jsx("span",{children:s.category})]})]})})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-red-500/5 border border-red-500/20 rounded-xl mb-4",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Voc\xea est\xe1 prestes a excluir ",c?"a pasta":"o prompt"," ",(0,r.jsxs)("span",{className:"font-bold text-white",children:['"',s.name,'"']}),"."]}),m&&(0,r.jsxs)("div",{className:"mt-3 p-3 bg-red-500/10 rounded-lg border border-red-500/30",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[r.jsx(e2.Z,{size:14}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Aten\xe7\xe3o"})]}),(0,r.jsxs)("p",{className:"text-xs text-red-300",children:["Esta pasta cont\xe9m"," ",(0,r.jsxs)("span",{className:"font-bold",children:[h," item(s)"]})," que tamb\xe9m ser\xe3o exclu\xeddos permanentemente."]})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita."})]}),!c&&s.content&&(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-2 block",children:"Preview do Conte\xfado"}),r.jsx("div",{className:"p-3 bg-[#0f111a] rounded-lg border border-white/5 max-h-24 overflow-y-auto custom-scrollbar",children:(0,r.jsxs)("pre",{className:"text-[10px] text-gray-400 font-mono whitespace-pre-wrap",children:[s.content.substring(0,200),s.content.length>200&&"..."]})})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 px-5 py-4 border-t border-white/5 bg-[#1e2330] rounded-b-xl shrink-0",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-xs font-medium rounded-lg text-gray-300 border border-white/10 hover:bg-white/10 transition-colors",children:"Cancelar"}),(0,r.jsxs)("button",{onClick:p,className:"px-5 py-2 text-xs font-bold rounded-lg text-white bg-red-600 hover:bg-red-500 transition-all shadow-lg shadow-red-900/20 flex items-center gap-2",children:[r.jsx(_.Z,{size:14}),"Excluir ",c?"Pasta":"Prompt"]})]})]})})})},e5=()=>{let[e,t]=i().useState(!1),[s,r]=i().useState(null);return{isOpen:e,item:s,openDeleteModal:e=>{r(e),t(!0)},closeDeleteModal:()=>{t(!1),r(null)}}};var e4=s(8019);let e9={success:{icon:ey.Z,bg:"bg-green-500/10",border:"border-green-500/30",text:"text-green-400"},error:{icon:eJ.Z,bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400"},info:{icon:e4.Z,bg:"bg-[#2979ff]/10",border:"border-[#2979ff]/30",text:"text-[#2979ff]"},warning:{icon:e2.Z,bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400"}},e8=({message:e,type:t})=>{let s=e9[t],a=s.icon;return r.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[300] animate-in slide-in-from-bottom-4 fade-in duration-300",children:(0,r.jsxs)("div",{className:`
          flex items-center gap-3 px-4 py-3 rounded-xl border shadow-2xl shadow-black/50
          ${s.bg} ${s.border}
        `,children:[r.jsx(a,{size:18,className:s.text}),r.jsx("span",{className:"text-sm font-medium text-white",children:e})]})})};var e6=s(765),e7=s(1137),te=s(6633);let tt=e=>{let t=new Set,s=e=>{for(let r of e)"prompt"===r.type&&r.tags&&r.tags?.forEach(e=>t.add(e)),"folder"===r.type&&r.children&&s(r.children)};return s(e),Array.from(t).sort()},ts=({tag:e,isActive:t,onClick:s,count:a})=>(0,r.jsxs)("button",{onClick:s,className:`
        inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] uppercase font-bold
        tracking-wider transition-all duration-150 border
        ${t?"bg-[#2979ff]/20 text-[#2979ff] border-[#2979ff]/30 shadow-sm shadow-blue-900/20":"bg-white/5 text-gray-400 border-white/5 hover:bg-white/10 hover:text-white hover:border-white/20"}
      `,children:[r.jsx(e6.Z,{size:10}),r.jsx("span",{children:e}),void 0!==a&&r.jsx("span",{className:`
          px-1 py-0.5 rounded text-[8px] font-bold
          ${t?"bg-[#2979ff]/30":"bg-white/10"}
        `,children:a}),t&&r.jsx(eL.Z,{size:10,className:"hover:text-white transition-colors"})]}),tr=({className:e="",variant:t="horizontal",maxVisible:s=10,showCounts:i=!1,onFilterChange:l})=>{let[n,o]=(0,a.useState)(new Set),[d,c]=(0,a.useState)(!1),[x,m]=(0,a.useState)(""),u=M(e=>e.data),p=(0,a.useMemo)(()=>tt(u),[u]),g=(0,a.useMemo)(()=>{let e={},t=s=>{for(let r of s)"prompt"===r.type&&r.tags&&r.tags?.forEach(t=>{e[t]=(e[t]||0)+1}),"folder"===r.type&&r.children&&t(r.children)};return t(u),e},[u]),f=(0,a.useMemo)(()=>x?p.filter(e=>e.toLowerCase().includes(x.toLowerCase())):p,[p,x]),b=d?f:f.slice(0,s),j=f.length>s,v=e=>{o(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),l?.(Array.from(s)),s})},w=()=>{o(new Set),l?.([])};return 0===p.length?null:"compact"===t?(0,r.jsxs)("div",{className:`flex items-center gap-2 ${e}`,children:[r.jsx(e7.Z,{size:14,className:"text-gray-400"}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 overflow-x-auto custom-scrollbar pb-1",children:[b.slice(0,5).map(e=>r.jsx(ts,{tag:e,isActive:n.has(e),onClick:()=>v(e)},e)),p.length>5&&(0,r.jsxs)("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:["+",p.length-5]})]}),n.size>0&&r.jsx("button",{onClick:w,className:"p-1 text-gray-400 hover:text-white hover:bg-white/10 rounded transition-colors",title:"Limpar filtros",children:r.jsx(eL.Z,{size:14})})]}):"vertical"===t?(0,r.jsxs)("div",{className:`flex flex-col ${e}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(e6.Z,{size:14,className:"text-[#2979ff]"}),r.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Filtrar por Tags"})]}),n.size>0&&(0,r.jsxs)("button",{onClick:w,className:"text-[10px] text-gray-400 hover:text-white transition-colors",children:["Limpar (",n.size,")"]})]}),(0,r.jsxs)("div",{className:"relative mb-3",children:[r.jsx(h.Z,{size:12,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-500"}),r.jsx("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"Buscar tags...",className:"w-full h-8 bg-[#0f111a] border border-white/10 rounded-lg pl-8 pr-3 text-[10px] text-gray-300 focus:outline-none focus:border-[#2979ff] transition-all placeholder-gray-600"})]}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.map(e=>r.jsx(ts,{tag:e,isActive:n.has(e),onClick:()=>v(e),count:i?g[e]:void 0},e))}),j&&r.jsx("button",{onClick:()=>c(!d),className:"mt-3 flex items-center justify-center gap-1 text-[10px] text-gray-400 hover:text-white transition-colors",children:d?(0,r.jsxs)(r.Fragment,{children:[r.jsx(te.Z,{size:12}),"Mostrar menos"]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(eT.Z,{size:12}),"Ver mais ",f.length-s," tags"]})})]}):(0,r.jsxs)("div",{className:`flex items-center gap-3 ${e}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 shrink-0",children:[r.jsx(e7.Z,{size:14,className:"text-gray-400"}),r.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Tags"})]}),r.jsx("div",{className:"w-px h-4 bg-white/10"}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 overflow-x-auto custom-scrollbar pb-1 flex-1",children:[b.map(e=>r.jsx(ts,{tag:e,isActive:n.has(e),onClick:()=>v(e),count:i?g[e]:void 0},e)),j&&!d&&(0,r.jsxs)("button",{onClick:()=>c(!0),className:"text-[10px] text-gray-400 hover:text-white whitespace-nowrap transition-colors",children:["+",f.length-s]})]}),n.size>0&&(0,r.jsxs)("button",{onClick:w,className:"shrink-0 flex items-center gap-1 px-2 py-1 text-[10px] text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:[r.jsx(eL.Z,{size:10}),"Limpar"]})]})};s(8965);let ta=`
  /* Custom Scrollbar */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #2a3040; border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: #3e4559; }
  .custom-scrollbar::-webkit-scrollbar { width: 4px; }
  .custom-scrollbar::-webkit-scrollbar-thumb { background: #2a3040; border-radius: 2px; }

  /* Selection */
  ::selection { background: rgba(41, 121, 255, 0.3); color: white; }

  /* Ensure correct colors - ATHENA Theme */
  :root {
    --color-primary: #2979ff;
    --color-primary-hover: #2264d1;
    --color-bg-dark: #0f111a;
    --color-bg-panel: #1e2330;
    --color-bg-secondary: #13161c;
    --color-border: rgba(255, 255, 255, 0.1);
  }
`,ti={sequential:"Navega\xe7\xe3o Sequencial",miller:"Miller Columns",mindmap:"Estrutura Hier\xe1rquica",shared:"Compartilhados"},tl=()=>{let e=M(e=>e.activeView),t=M(e=>e.slideDirection),s=M(e=>e.toast),i=M(e=>e.isLocked),l=M(e=>e.selectedFolder),{setSearchQuery:n,setIsLocked:o,showToast:d,setActiveView:c}=M(e=>e.actions),{isOpen:x,type:m,parentId:u,openCreateModal:h,closeCreateModal:p}=e1(),{isOpen:g,item:f,openDeleteModal:b,closeDeleteModal:j}=e5(),[v,w]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=e=>{if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)){if((e.ctrlKey||e.metaKey)&&"f"===e.key){e.preventDefault();let t=document.getElementById("search-input");t&&(t.focus(),d("Busca r\xe1pida ativada","info"))}if((e.ctrlKey||e.metaKey)&&"l"===e.key&&(e.preventDefault(),o(!i)),(e.ctrlKey||e.metaKey)&&["1","2","3"].includes(e.key)){e.preventDefault();let t={1:"sequential",2:"miller",3:"mindmap"};c(t[e.key]),d(`Vista: ${ti[t[e.key]]}`,"info")}(e.ctrlKey||e.metaKey)&&"n"===e.key&&(e.preventDefault(),i?d("Desbloqueie para criar","warning"):h("folder",l?.id||null)),(e.ctrlKey||e.metaKey)&&"p"===e.key&&!e.shiftKey&&(e.preventDefault(),i?d("Desbloqueie para criar","warning"):h("prompt",l?.id||null))}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,o,d,c,i,l,h]),(0,a.useEffect)(()=>{if("none"!==t){let e=setTimeout(()=>{M.setState({slideDirection:"none"})},300);return()=>clearTimeout(e)}},[t]),(0,r.jsxs)("div",{className:"flex flex-col h-screen bg-[#0f111a] text-gray-300 font-sans overflow-hidden antialiased",children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:ta}}),r.jsx(F,{}),(0,r.jsxs)("div",{className:"h-12 bg-[#13161c] border-b border-white/5 flex items-center justify-between px-4 shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:ti[e]||"Vista"}),"shared"!==e&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-px h-4 bg-white/10"}),r.jsx(tr,{variant:"compact",maxVisible:5,onFilterChange:e=>{w(e),e.length>0&&d(`Filtrando por ${e.length} tag(s)`,"info")}})]})]}),r.jsx(Y,{})]}),r.jsx("main",{className:"flex-1 bg-[#0f111a] overflow-hidden relative",children:r.jsx("div",{className:"w-full h-full animate-in fade-in duration-300",children:(()=>{switch(e){case"sequential":default:return r.jsx(ec,{});case"miller":return r.jsx(eD,{});case"mindmap":return r.jsx(eE,{});case"shared":return r.jsx(eP,{})}})()},e)}),r.jsx(W,{}),s&&r.jsx(e8,{message:s.message,type:s.type}),r.jsx(eB,{}),r.jsx(eU,{}),r.jsx(eH,{}),r.jsx(eG,{}),r.jsx(eY,{}),r.jsx(eW,{}),r.jsx(e0,{isOpen:x,onClose:p,type:m,parentId:u}),r.jsx(e3,{isOpen:g,onClose:j,item:f})]})}}};