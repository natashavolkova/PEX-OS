"use strict";(()=>{var e={};e.id=5865,e.ids=[5865],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},867:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>x,patchFetch:()=>P,requestAsyncStorage:()=>m,routeModule:()=>g,serverHooks:()=>f,staticGenerationAsyncStorage:()=>h});var a={};s.r(a),s.d(a,{GET:()=>d,PATCH:()=>l,POST:()=>p});var n=s(9303),o=s(8716),r=s(670),c=s(7070);let u={connected:!1,agentName:"Fara-7B",agentVersion:"1.0.0",capabilities:["file_generation","code_refactor","macro_execution","prompt_analysis","automation"],lastPing:0,queuedTasks:0},i=[];async function d(e){console.log("[API] GET /api/fara/status");let t=u.connected||Math.random()>.3,s={...u,connected:t,lastPing:t?Date.now():u.lastPing,queuedTasks:i.filter(e=>"queued"===e.status||"processing"===e.status).length};return c.NextResponse.json({success:!0,data:{status:s,health:t?"healthy":"disconnected",uptime:t?Math.floor(86400*Math.random()):0,stats:{tasksProcessed:Math.floor(100*Math.random())+50,avgProcessingTime:2500,successRate:.95,errorsLast24h:Math.floor(5*Math.random())}}})}async function p(e){let t=await e.json();console.log("[API] POST /api/fara/status",t);let{action:s,endpoint:a}=t;if(!s)return c.NextResponse.json({success:!1,error:"action is required (connect/disconnect)"},{status:400});if("connect"===s){let e=a||"ws://localhost:8765";return Math.random()>.2?(u={...u,connected:!0,lastPing:Date.now()},c.NextResponse.json({success:!0,data:{status:u,endpoint:e},message:`Connected to agent at ${e}`})):c.NextResponse.json({success:!1,error:`Failed to connect to ${e}. Ensure the agent is running.`,data:{status:u}},{status:503})}return"disconnect"===s?(u={...u,connected:!1},c.NextResponse.json({success:!0,data:{status:u},message:"Disconnected from agent"})):"ping"===s?u.connected?(u.lastPing=Date.now(),c.NextResponse.json({success:!0,data:{pong:!0,latency:Math.floor(100*Math.random())+10,timestamp:Date.now()}})):c.NextResponse.json({success:!1,error:"Agent not connected"},{status:503}):c.NextResponse.json({success:!1,error:"Invalid action. Use: connect, disconnect, or ping"},{status:400})}async function l(e){let t=await e.json();console.log("[API] PATCH /api/fara/status",t);let{settings:s}=t;return s?c.NextResponse.json({success:!0,data:{updated:!0,settings:s},message:"Agent settings updated"}):c.NextResponse.json({success:!1,error:"settings object is required"},{status:400})}let g=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/fara/status/route",pathname:"/api/fara/status",filename:"route",bundlePath:"app/api/fara/status/route"},resolvedPagePath:"/home/user/webapp/app/api/fara/status/route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:f}=g,x="/api/fara/status/route";function P(){return(0,r.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:h})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,5972],()=>s(867));module.exports=a})();